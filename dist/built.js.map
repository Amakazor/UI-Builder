{"version":3,"sources":["../concated/concated.js"],"names":["cache","tmpl","str","data","fn","test","document","getElementById","innerHTML","Function","replace","split","join","delay","timer","callback","ms","clearTimeout","setTimeout","alwaysTrue","removeTag","el","tagName","filterFn","Array","from","getElementsByTagName","filter","forEach","tag","parentNode","removeChild","removeUnusedTags","html","createElement","getAttribute","includes","outerHTML","getStyle","styleProp","value","style","length","currentStyle","window","getComputedStyle","defaultView","getDefaultComputedStyle","getPropertyValue","downloadAsTextFile","filename","text","element","setAttribute","encodeURIComponent","display","body","appendChild","click","Vvveb","undefined","defaultComponent","preservePropertySections","baseUrl","currentScript","src","ComponentsGroup","Components","_components","_nodesLookup","_attributesLookup","_classesLookup","_classesRegexLookup","init","url","get","type","add","nodes","i","attributes","constructor","classes","classesRegex","extend","inheritType","newData","inheritData","$","properties","merge","sort","a","b","matchNode","node","attr","name","component","j","regex","regexObj","RegExp","exec","toLowerCase","render","rightPanel","jQuery","section","find","append","key","header","beforeInit","Builder","selectedEl","property","input","on","event","child","parent","onChange","htmlAttr","oldValue","validValues","removeClass","addClass","css","Undo","addMutation","target","attributeName","newValue","selectNode","nodeElement","group","inputtype","setValue","indexOf","SectionInput","row","WysiwygEditor","isActive","doc","e","execCommand","preventDefault","undo","redo","edit","show","destroy","removeAttr","hide","dragMoveMutation","self","loadControlGroups","highlightEl","initCallback","documentFrame","canvas","_loadIframe","_initDragdrop","dragElement","componentsList","empty","componentsSubList","components","componentType","item","image","backgroundImage","backgroundRepeat","loadUrl","iframe","FrameWindow","contentWindow","FrameDocument","_frameLoaded","frameDoc","frameHtml","frameBody","_initHightlight","_getElementType","componentName","nodeName","loadNodeComponent","texteditEl","offset","top","scrollTop","left","scrollLeft","outerWidth","outerHeight","moveEvent","timeStamp","width","height","isDragging","parentOffset","originalEvent","x","y","before","prepend","prependTo","appendTo","err","console","log","hasAttribute","dragHtml","newElement","replaceWith","afterDrop","addedNodes","nextSibling","newParent","newNextSibling","oldParent","oldNextSibling","next","after","prev","clone","removedNodes","remove","$this","dragStart","iconDrag","elementMouseIsOver","elementFromPoint","clientX","clientY","trigger","stopPropagation","getBeautifiedHtml","html_beautify","getHtml","preserve_newlines","indent_inner_html","unformatted","doctype","publicId","systemId","documentElement","setHtml","start","end","slice","CodeEditor","val","keyup","toggle","Gui","each","dataset","vvvebOn","vvvebAction","vvvebShortcut","bind","check","modal","viewport","view","toggleEditor","toggleClass","download","preview","fullscreen","launchFullScreen","componentSearch","searchText","clearComponentSearch","FileManager","tree","pages","loadPage","parents","addPage","title","addPages","page","addComponent","requestFullScreen","FullScreenElement","exitFullScreen","mozRequestFullScreen","mozFullScreenElement","mozCancelFullScreen","webkitRequestFullScreen","webkitFullscreenElement","webkitExitFullscreen","msRequestFullscreen","msFullScreenElement","msExitFullscreen","undos","mutations","undoIndex","enabled","mutation","splice","restore","insertBefore","sibling","removeAttribute","hasChanges","Input","renderTemplate","events","fun","TextInput","CheckboxInput","checked","SelectInput","LinkInput","RangeInput","NumberInput","CssUnitInput","number","unit","parseInt","ColorInput","rgb2hex","rgb","match","toString","FileUploadInput","RadioInput","prop","RadioButtonInput","ToggleInput","ValueTextInput","GridLayoutInput","ProductsInput","GridInput","TextValueInput","ButtonInput","ListInput","bgcolorClasses","bgcolorSelectOptions","changeNodeName","newNodeName","newNode","len","nodeValue","contents","base_sort","inline","col","options","extraclass","icon","max","min","step","expanded","off","push","optionNode","option","hide_remove","_class","reg","columnNode","column","ready","isElementCreated","$element","interact","draggable","inertia","restrict","restriction","endOnly","elementRect","bottom","right","autoScroll","onmove","position","parseFloat","dx","dy","transform","onend","textEl","querySelector","textContent","Math","sqrt","pow","pageX","x0","pageY","y0","toFixed"],"mappings":"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","file":"built.js","sourcesContent":["/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givan/VvvebJs\r\n*/\r\n\r\n\r\n// Simple JavaScript Templating\r\n// John Resig - https://johnresig.com/ - MIT Licensed\r\n(function () {\r\n\tvar cache = {};\r\n\r\n\tthis.tmpl = function tmpl(str, data) {\r\n\t\t// Figure out if we're getting a template, or if we need to\r\n\t\t// load the template - and be sure to cache the result.\r\n\t\tvar fn = /^[-a-zA-Z0-9]+$/.test(str) ?\r\n\t\t\tcache[str] = cache[str] ||\r\n\t\t\ttmpl(document.getElementById(str).innerHTML) :\r\n\r\n\t\t\t// Generate a reusable function that will serve as a template\r\n\t\t\t// generator (and which will be cached).\r\n\t\t\tnew Function(\"obj\",\r\n\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n\r\n\t\t\t\t// Introduce the data as local variables using with(){}\r\n\t\t\t\t\"with(obj){p.push('\" +\r\n\r\n\t\t\t\t// Convert the template into pure JavaScript\r\n\t\t\t\tstr\r\n\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\r\n\t\t\t\t\t.split(\"{%\").join(\"\\t\")\r\n\t\t\t\t\t.replace(/((^|%})[^\\t]*)'/g, \"$1\\r\")\r\n\t\t\t\t\t.replace(/\\t=(.*?)%}/g, \"',$1,'\")\r\n\t\t\t\t\t.split(\"\\t\").join(\"');\")\r\n\t\t\t\t\t.split(\"%}\").join(\"p.push('\")\r\n\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\")\r\n\t\t\t\t+ \"');}return p.join('');\");\r\n\t\t// Provide some basic currying to the user\r\n\t\treturn data ? fn(data) : fn;\r\n\t};\r\n})();\r\n\r\nvar delay = (function () {\r\n\tvar timer = 0;\r\n\treturn function (callback, ms) {\r\n\t\tclearTimeout(timer);\r\n\t\ttimer = setTimeout(callback, ms);\r\n\t};\r\n})();\r\n\r\nconst alwaysTrue = () => true;\r\n\r\nfunction removeTag(el, tagName, filterFn = alwaysTrue) {\r\n\tArray.from(el.getElementsByTagName(tagName))\r\n\t\t.filter(filterFn)\r\n\t\t.forEach(tag => tag.parentNode.removeChild(tag));\r\n}\r\n\r\nfunction removeUnusedTags(html) {\r\n\tconst el = document.createElement('html');\r\n\tel.innerHTML = html;\r\n\r\n\tremoveTag(el, 'link',\r\n\t\ttag => tag.getAttribute('rel') == 'stylesheet'\r\n\t\t\t&& !tag.getAttribute('href').includes('bootstrap'));\r\n\tremoveTag(el, 'script');\r\n\r\n\treturn el.outerHTML;\r\n}\r\n\r\nfunction getStyle(el, styleProp) {\r\n\tvalue = \"\";\r\n\t//var el = document.getElementById(el);\r\n\tif (el.style && el.style.length > 0 && el.style[styleProp])//check inline\r\n\t\tvar value = el.style[styleProp];\r\n\telse\r\n\t\tif (el.currentStyle)\t//check defined css\r\n\t\t\tvar value = el.currentStyle[styleProp];\r\n\t\telse if (window.getComputedStyle) {\r\n\t\t\tvar value = document.defaultView.getDefaultComputedStyle ?\r\n\t\t\t\tdocument.defaultView.getDefaultComputedStyle(el, null).getPropertyValue(styleProp) :\r\n\t\t\t\twindow.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n\t\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction downloadAsTextFile(filename, text) {\r\n\tconst element = document.createElement('a');\r\n\telement.setAttribute('href', `data:text/html;charset=utf-8,${encodeURIComponent(text)}`);\r\n\telement.setAttribute('download', filename);\r\n\r\n\telement.style.display = 'none';\r\n\tdocument.body.appendChild(element);\r\n\r\n\telement.click();\r\n\r\n\tdocument.body.removeChild(element);\r\n}\r\n\r\nif (Vvveb === undefined) var Vvveb = {};\r\n\r\nVvveb.defaultComponent = \"_base\";\r\nVvveb.preservePropertySections = true;\r\n\r\nVvveb.baseUrl = document.currentScript ? document.currentScript.src.replace(/[^\\/]*?\\.js$/, '') : '';\r\n\r\nVvveb.ComponentsGroup = {};\r\n\r\nVvveb.Components = {\r\n\r\n\t_components: {},\r\n\r\n\t_nodesLookup: {},\r\n\r\n\t_attributesLookup: {},\r\n\r\n\t_classesLookup: {},\r\n\r\n\t_classesRegexLookup: {},\r\n\r\n\tinit: function (url) {\r\n\t},\r\n\r\n\tget: function (type) {\r\n\t\treturn this._components[type];\r\n\t},\r\n\r\n\tadd: function (type, data) {\r\n\t\tdata.type = type;\r\n\r\n\t\tthis._components[type] = data;\r\n\r\n\t\tif (data.nodes) {\r\n\t\t\tfor (var i in data.nodes) {\r\n\t\t\t\tthis._nodesLookup[data.nodes[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.attributes) {\r\n\t\t\tif (data.attributes.constructor === Array) {\r\n\t\t\t\tfor (var i in data.attributes) {\r\n\t\t\t\t\tthis._attributesLookup[data.attributes[i]] = data;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i in data.attributes) {\r\n\t\t\t\t\tif (typeof this._attributesLookup[i] === 'undefined') {\r\n\t\t\t\t\t\tthis._attributesLookup[i] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof this._attributesLookup[i][data.attributes[i]] === 'undefined') {\r\n\t\t\t\t\t\tthis._attributesLookup[i][data.attributes[i]] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._attributesLookup[i][data.attributes[i]] = data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.classes) {\r\n\t\t\tfor (var i in data.classes) {\r\n\t\t\t\tthis._classesLookup[data.classes[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.classesRegex) {\r\n\t\t\tfor (var i in data.classesRegex) {\r\n\t\t\t\tthis._classesRegexLookup[data.classesRegex[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\textend: function (inheritType, type, data) {\r\n\r\n\t\tnewData = data;\r\n\r\n\t\tif (inheritData = this._components[inheritType]) {\r\n\t\t\tnewData = $.extend(true, {}, inheritData, data);\r\n\t\t\tnewData.properties = $.merge($.merge([], inheritData.properties ? inheritData.properties : []), data.properties ? data.properties : []);\r\n\t\t}\r\n\r\n\t\t//sort by order\r\n\t\tnewData.properties.sort(function (a, b) {\r\n\t\t\tif (typeof a.sort === \"undefined\") a.sort = 0;\r\n\t\t\tif (typeof b.sort === \"undefined\") b.sort = 0;\r\n\r\n\t\t\tif (a.sort < b.sort)\r\n\t\t\t\treturn -1;\r\n\t\t\tif (a.sort > b.sort)\r\n\t\t\t\treturn 1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\r\n\t\tthis.add(type, newData);\r\n\t},\r\n\r\n\r\n\tmatchNode: function (node) {\r\n\r\n\t\tif (node.attributes.length) {\r\n\t\t\t//search for attributes\r\n\t\t\tfor (var i in node.attributes) {\r\n\t\t\t\tattr = node.attributes[i].name;\r\n\t\t\t\tvalue = node.attributes[i].value;\r\n\r\n\t\t\t\tif (attr in this._attributesLookup) {\r\n\t\t\t\t\tcomponent = this._attributesLookup[attr];\r\n\r\n\t\t\t\t\t//currently we check that is not a component by looking at name attribute\r\n\t\t\t\t\t//if we have a collection of objects it means that attribute value must be checked\r\n\t\t\t\t\tif (typeof component[\"name\"] === \"undefined\") {\r\n\t\t\t\t\t\tif (value in component) {\r\n\t\t\t\t\t\t\treturn component[value];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\treturn component;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i in node.attributes) {\r\n\t\t\t\tattr = node.attributes[i].name;\r\n\t\t\t\tvalue = node.attributes[i].value;\r\n\r\n\t\t\t\t//check for node classes\r\n\t\t\t\tif (attr == \"class\") {\r\n\t\t\t\t\tclasses = value.split(\" \");\r\n\r\n\t\t\t\t\tfor (j in classes) {\r\n\t\t\t\t\t\tif (classes[j] in this._classesLookup)\r\n\t\t\t\t\t\t\treturn this._classesLookup[classes[j]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (regex in this._classesRegexLookup) {\r\n\t\t\t\t\t\tregexObj = new RegExp(regex);\r\n\t\t\t\t\t\tif (regexObj.exec(value)) {\r\n\t\t\t\t\t\t\treturn this._classesRegexLookup[regex];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttagName = node.tagName.toLowerCase();\r\n\t\tif (tagName in this._nodesLookup) return this._nodesLookup[tagName];\r\n\r\n\t\t//return false;\r\n\t\treturn this.get(Vvveb.defaultComponent);\r\n\t},\r\n\r\n\trender: function (type) {\r\n\r\n\t\tcomponent = this._components[type];\r\n\r\n\t\trightPanel = jQuery(\"#right-panel #component-properties\");\r\n\t\tsection = rightPanel.find('.section[data-section=\"default\"]');\r\n\r\n\t\tif (!(Vvveb.preservePropertySections && section.length)) {\r\n\t\t\trightPanel.html('').append(tmpl(\"vvveb-input-sectioninput\", { key: \"default\", header: component.name }));\r\n\t\t\tsection = rightPanel.find(\".section\");\r\n\t\t}\r\n\r\n\t\trightPanel.find('[data-header=\"default\"] span').html(component.name);\r\n\t\tsection.html(\"\")\r\n\r\n\t\tif (component.beforeInit) component.beforeInit(Vvveb.Builder.selectedEl.get(0));\r\n\r\n\t\tfn = function (component, property) {\r\n\t\t\treturn property.input.on('propertyChange', function (event, value, input) {\r\n\t\t\t\telement = Vvveb.Builder.selectedEl;\r\n\t\t\t\tif (property.child) element = element.find(property.child);\r\n\t\t\t\tif (property.parent) element = element.parent(property.parent);\r\n\r\n\t\t\t\tif (property.onChange) {\r\n\t\t\t\t\telement = property.onChange(element, value, input, component);\r\n\t\t\t\t} else if (property.htmlAttr) {\r\n\t\t\t\t\toldValue = element.attr(property.htmlAttr);\r\n\r\n\t\t\t\t\tif (property.htmlAttr == \"class\" && property.validValues) {\r\n\t\t\t\t\t\telement.removeClass(property.validValues.join(\" \"));\r\n\t\t\t\t\t\telement = element.addClass(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (property.htmlAttr == \"style\") {\r\n\t\t\t\t\t\telement = element.css(property.key, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\telement = element.attr(property.htmlAttr, value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\t\t\ttype: 'attributes',\r\n\t\t\t\t\t\ttarget: element.get(0),\r\n\t\t\t\t\t\tattributeName: property.htmlAttr,\r\n\t\t\t\t\t\toldValue: oldValue,\r\n\t\t\t\t\t\tnewValue: element.attr(property.htmlAttr)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (component.onChange) {\r\n\t\t\t\t\telement = component.onChange(element, property, value, input);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!property.child && !property.parent) Vvveb.Builder.selectNode(element);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tnodeElement = Vvveb.Builder.selectedEl;\r\n\r\n\t\tfor (var i in component.properties) {\r\n\t\t\tproperty = component.properties[i];\r\n\r\n\t\t\tif (property.beforeInit) property.beforeInit(element.get(0))\r\n\r\n\t\t\telement = nodeElement;\r\n\t\t\tif (property.child) element = element.find(property.child);\r\n\r\n\t\t\tif (property.data) {\r\n\t\t\t\tproperty.data[\"key\"] = property.key;\r\n\t\t\t} else {\r\n\t\t\t\tproperty.data = { \"key\": property.key };\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof property.group === 'undefined') property.group = null;\r\n\r\n\t\t\tproperty.input = property.inputtype.init(property.data);\r\n\r\n\t\t\tif (property.init) {\r\n\t\t\t\tproperty.inputtype.setValue(property.init(element.get(0)));\r\n\t\t\t} else if (property.htmlAttr) {\r\n\t\t\t\tif (property.htmlAttr == \"style\") {\r\n\t\t\t\t\t//value = element.css(property.key);//jquery css returns computed style\r\n\t\t\t\t\tvalue = getStyle(element.get(0), property.key);//getStyle returns declared style\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = element.attr(property.htmlAttr);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if attribute is class check if one of valid values is included as class to set the select\r\n\t\t\t\tif (value && property.htmlAttr == \"class\" && property.validValues) {\r\n\t\t\t\t\tvalue = value.split(\" \").filter(function (el) {\r\n\t\t\t\t\t\treturn property.validValues.indexOf(el) != -1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tproperty.inputtype.setValue(value);\r\n\t\t\t}\r\n\r\n\t\t\tfn(component, property);\r\n\r\n\t\t\tif (property.inputtype == SectionInput) {\r\n\t\t\t\tsection = rightPanel.find('.section[data-section=\"' + property.key + '\"]');\r\n\r\n\t\t\t\tif (Vvveb.preservePropertySections && section.length) {\r\n\t\t\t\t\tsection.html(\"\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\trightPanel.append(property.input);\r\n\t\t\t\t\tsection = rightPanel.find('.section[data-section=\"' + property.key + '\"]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trow = $(tmpl('vvveb-property', property));\r\n\t\t\t\trow.find('.input').append(property.input);\r\n\t\t\t\tsection.append(row);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (component.init) component.init(Vvveb.Builder.selectedEl.get(0));\r\n\t}\r\n};\r\n\r\n\r\n\r\nVvveb.WysiwygEditor = {\r\n\r\n\tisActive: false,\r\n\toldValue: '',\r\n\tdoc: false,\r\n\r\n\tinit: function (doc) {\r\n\t\tthis.doc = doc;\r\n\r\n\t\t$(\"#bold-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('bold', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#italic-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('italic', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#underline-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('underline', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#strike-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('strikeThrough', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#link-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('createLink', false, \"#\");\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t},\r\n\r\n\tundo: function (element) {\r\n\t\tthis.doc.execCommand('undo', false, null);\r\n\t},\r\n\r\n\tredo: function (element) {\r\n\t\tthis.doc.execCommand('redo', false, null);\r\n\t},\r\n\r\n\tedit: function (element) {\r\n\t\telement.attr({ 'contenteditable': true, 'spellcheckker': false });\r\n\t\t$(\"#wysiwyg-editor\").show();\r\n\r\n\t\tthis.element = element;\r\n\t\tthis.isActive = true;\r\n\t\tthis.oldValue = element.html();\r\n\t},\r\n\r\n\tdestroy: function (element) {\r\n\t\telement.removeAttr('contenteditable spellcheckker');\r\n\t\t$(\"#wysiwyg-editor\").hide();\r\n\t\tthis.isActive = false;\r\n\r\n\r\n\t\tnode = this.element.get(0);\r\n\t\tVvveb.Undo.addMutation({\r\n\t\t\ttype: 'characterData',\r\n\t\t\ttarget: node,\r\n\t\t\toldValue: this.oldValue,\r\n\t\t\tnewValue: node.innerHTML\r\n\t\t});\r\n\t}\r\n}\r\n\r\nVvveb.Builder = {\r\n\r\n\tdragMoveMutation: false,\r\n\r\n\tinit: function (url, callback) {\r\n\r\n\t\tself = this;\r\n\r\n\t\tself.loadControlGroups();\r\n\r\n\t\tself.selectedEl = null;\r\n\t\tself.highlightEl = null;\r\n\t\tself.initCallback = callback;\r\n\r\n\t\tself.documentFrame = $(\"#iframe-wrapper > iframe\");\r\n\t\tself.canvas = $(\"#canvas\");\r\n\r\n\t\tself._loadIframe(url);\r\n\r\n\t\tself._initDragdrop();\r\n\r\n\t\tself.dragElement = null;\r\n\t},\r\n\r\n\t/* controls */\r\n\tloadControlGroups: function () {\r\n\r\n\t\tcomponentsList = $(\"#components-list\");\r\n\t\tcomponentsList.empty();\r\n\r\n\t\tfor (group in Vvveb.ComponentsGroup) {\r\n\t\t\tcomponentsList.append('<li class=\"header\" data-section=\"' + group + '\"  data-search=\"\"><label class=\"header\" for=\"comphead_' + group + '\">' + group + '  <div class=\"header-arrow\"></div>\\\r\n\t\t\t\t\t\t\t\t   </label><input class=\"header_check\" type=\"checkbox\" checked=\"true\" id=\"comphead_' + group + '\">  <ol></ol></li>');\r\n\r\n\t\t\tcomponentsSubList = componentsList.find('li[data-section=\"' + group + '\"]  ol');\r\n\r\n\t\t\tcomponents = Vvveb.ComponentsGroup[group];\r\n\r\n\t\t\tfor (i in components) {\r\n\t\t\t\tcomponentType = components[i];\r\n\t\t\t\tcomponent = Vvveb.Components.get(componentType);\r\n\r\n\t\t\t\tif (component) {\r\n\t\t\t\t\titem = $('<li data-section=\"' + group + '\" data-type=\"' + componentType + '\" data-search=\"' + component.name.toLowerCase() + '\"><a href=\"#\">' + component.name + \"</a></li>\");\r\n\r\n\t\t\t\t\tif (component.image) {\r\n\r\n\t\t\t\t\t\titem.css({\r\n\t\t\t\t\t\t\tbackgroundImage: \"url(\" + 'libs/builder/' + component.image + \")\",\r\n\t\t\t\t\t\t\tbackgroundRepeat: \"no-repeat\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcomponentsSubList.append(item)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tloadUrl: function (url) {\r\n\t\tjQuery(\"#select-box\").hide();\r\n\t\tself.iframe.src = url;\r\n\t},\r\n\r\n\t/* iframe */\r\n\t_loadIframe: function (url) {\r\n\r\n\t\tself.iframe = this.documentFrame.get(0);\r\n\t\tself.iframe.src = url;\r\n\r\n\t\treturn this.documentFrame.on(\"load\", function () {\r\n\r\n\t\t\twindow.FrameWindow = self.iframe.contentWindow;\r\n\t\t\twindow.FrameDocument = self.iframe.contentWindow.document;\r\n\r\n\t\t\tVvveb.WysiwygEditor.init(window.FrameDocument);\r\n\t\t\tif (self.initCallback) self.initCallback();\r\n\r\n\t\t\treturn self._frameLoaded();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t_frameLoaded: function () {\r\n\r\n\t\tself.frameDoc = $(window.FrameDocument);\r\n\t\tself.frameHtml = $(window.FrameDocument).find(\"html\");\r\n\t\tself.frameBody = $(window.FrameDocument).find(\"body\");\r\n\r\n\t\tthis._initHightlight();\r\n\t},\r\n\r\n\t_getElementType: function (el) {\r\n\r\n\t\t//search for component attribute\r\n\t\tcomponentName = '';\r\n\r\n\t\tif (el.attributes)\r\n\t\t\tfor (var j = 0; j < el.attributes.length; j++) {\r\n\r\n\t\t\t\tif (el.attributes[j].nodeName.indexOf('data-component') > -1) {\r\n\t\t\t\t\tcomponentName = el.attributes[j].nodeName.replace('data-component-', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (componentName != '') return componentName;\r\n\r\n\t\tif (el.attributes)\r\n\t\t\tfor (var j = 0; j < el.attributes.length; j++) {\r\n\r\n\t\t\t\tif (el.attributes[j].nodeName.indexOf('data-component') > -1) {\r\n\t\t\t\t\tcomponentName = el.attributes[j].nodeName.replace('data-component-', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (componentName != '') return componentName;\r\n\t\t//if (className) return componentName;\r\n\t\treturn el.tagName;\r\n\t},\r\n\r\n\tloadNodeComponent: function (node) {\r\n\t\tdata = Vvveb.Components.matchNode(node);\r\n\t\tif (data) Vvveb.Components.render(data.type);\r\n\r\n\t},\r\n\r\n\tselectNode: function (node = false) {\r\n\r\n\t\tif (!node) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (self.texteditEl && self.selectedEl.get(0) != node) {\r\n\t\t\tVvveb.WysiwygEditor.destroy(self.texteditEl);\r\n\t\t\tjQuery(\"#select-box\").removeClass(\"text-edit\").find(\"#select-actions\").show();\r\n\t\t\tself.texteditEl = null;\r\n\t\t}\r\n\r\n\t\tself.selectedEl = target = jQuery(node);\r\n\t\toffset = target.offset();\r\n\r\n\r\n\t\tjQuery(\"#select-box\").css(\r\n\t\t\t{\r\n\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\"width\": target.outerWidth(),\r\n\t\t\t\t\"height\": target.outerHeight(),\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t});\r\n\r\n\t\tjQuery(\"#highlight-name\").html(self._getElementType(node));\r\n\r\n\t},\r\n\r\n\t/* iframe highlight */\r\n\t_initHightlight: function () {\r\n\r\n\r\n\t\tmoveEvent = { target: null, };\r\n\r\n\t\tthis.frameBody.on(\"mousemove touchmove\", function (event) {\r\n\t\t\t//delay for half a second if dragging over same element\r\n\t\t\tif (event.target == moveEvent.target && ((event.timeStamp - moveEvent.timeStamp) < 500)) return;\r\n\t\t\tif (event.target) {\r\n\t\t\t\tmoveEvent = event;\r\n\r\n\t\t\t\tself.highlightEl = target = jQuery(event.target);\r\n\t\t\t\toffset = target.offset();\r\n\t\t\t\twidth = target.outerWidth();\r\n\t\t\t\theight = target.outerHeight();\r\n\r\n\t\t\t\tif (self.isDragging) {\r\n\t\t\t\t\t// if (self.iconDrag) self.iconDrag.remove();\r\n\t\t\t\t\tparent = self.highlightEl;\r\n\t\t\t\t\tparentOffset = self.dragElement.offset();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tself.dragElement.css({\r\n\t\t\t\t\t\t\tdisplay: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (event.originalEvent && (offset.left > (event.originalEvent.x - 10))) {\r\n\t\t\t\t\t\t\tif (offset.top > (event.originalEvent.y - 10)) {\r\n\t\t\t\t\t\t\t\tparent.before(self.dragElement);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tparent.prepend(self.dragElement);\r\n\t\t\t\t\t\t\t\tself.dragElement.prependTo(parent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (event.originalEvent && offset.top > ((event.originalEvent.y - 10))) {\r\n\t\t\t\t\t\t\t\tparent.before(self.dragElement);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tparent.append(self.dragElement);\r\n\t\t\t\t\t\t\t\tself.dragElement.appendTo(parent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.isDragging == false;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tjQuery(\"#highlight-box\").css(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\t\"width\": width,\r\n\t\t\t\t\t\t\t\"height\": height,\r\n\t\t\t\t\t\t\t\"display\": event.target.hasAttribute('contenteditable') ? \"none\" : \"block\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tjQuery(\"#highlight-name\").html(self._getElementType(event.target));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"mouseup touchend\", function (event) {\r\n\t\t\tif (self.isDragging) {\r\n\t\t\t\tself.isDragging = false;\r\n\r\n\t\t\t\tif (component.dragHtml) //if dragHtml is set for dragging then set real component html\r\n\t\t\t\t{\r\n\t\t\t\t\tnewElement = $(component.html);\r\n\t\t\t\t\tself.dragElement.replaceWith(newElement);\r\n\t\t\t\t\tself.dragElement = newElement;\r\n\t\t\t\t}\r\n\t\t\t\tif (component.afterDrop) self.dragElement = component.afterDrop(self.dragElement);\r\n\r\n\t\t\t\tnode = self.dragElement.get(0);\r\n\t\t\t\tself.selectNode(node);\r\n\t\t\t\tself.loadNodeComponent(node);\r\n\r\n\t\t\t\tif (self.dragMoveMutation === false) {\r\n\t\t\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\t\t\ttype: 'childList',\r\n\t\t\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\t\t\taddedNodes: [node],\r\n\t\t\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.dragMoveMutation.newParent = node.parentNode;\r\n\t\t\t\t\tself.dragMoveMutation.newNextSibling = node.nextSibling;\r\n\r\n\t\t\t\t\tVvveb.Undo.addMutation(self.dragMoveMutation);\r\n\t\t\t\t\tself.dragMoveMutation = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"dblclick\", function (event) {\r\n\r\n\t\t\tself.texteditEl = target = jQuery(event.target);\r\n\r\n\t\t\tVvveb.WysiwygEditor.edit(self.texteditEl);\r\n\r\n\t\t\tself.texteditEl.attr({ 'contenteditable': true, 'spellcheckker': false });\r\n\r\n\t\t\tself.texteditEl.on(\"blur keyup paste input\", function (event) {\r\n\r\n\t\t\t\tjQuery(\"#select-box\").css({\r\n\t\t\t\t\t\"width\": self.texteditEl.outerWidth(),\r\n\t\t\t\t\t\"height\": self.texteditEl.outerHeight()\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tjQuery(\"#select-box\").addClass(\"text-edit\").find(\"#select-actions\").hide();\r\n\t\t\tjQuery(\"#highlight-box\").hide();\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"click\", function (event) {\r\n\t\t\tif (event.target) {\r\n\t\t\t\tself.selectNode(event.target);\r\n\t\t\t\tself.loadNodeComponent(event.target);\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t$(\"#drag-box\").on(\"mousedown\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\t\t\tself.dragElement = self.selectedEl;\r\n\t\t\tself.isDragging = true;\r\n\r\n\t\t\tnode = self.dragElement.get(0);\r\n\r\n\r\n\t\t\tself.dragMoveMutation = {\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: node.parentNode,\r\n\t\t\t\toldNextSibling: node.nextSibling\r\n\t\t\t};\r\n\r\n\t\t\t//self.selectNode(false);\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#down-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\t\t\toldParent = node.parentNode;\r\n\t\t\toldNextSibling = node.nextSibling;\r\n\r\n\t\t\tnext = self.selectedEl.next();\r\n\r\n\t\t\tif (next.length > 0) {\r\n\t\t\t\tnext.after(self.selectedEl);\r\n\t\t\t} else {\r\n\t\t\t\tself.selectedEl.parent().after(self.selectedEl);\r\n\t\t\t}\r\n\r\n\t\t\tnewParent = node.parentNode;\r\n\t\t\tnewNextSibling = node.nextSibling;\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: oldParent,\r\n\t\t\t\tnewParent: newParent,\r\n\t\t\t\toldNextSibling: oldNextSibling,\r\n\t\t\t\tnewNextSibling: newNextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#up-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\t\t\toldParent = node.parentNode;\r\n\t\t\toldNextSibling = node.nextSibling;\r\n\r\n\t\t\tnext = self.selectedEl.prev();\r\n\r\n\t\t\tif (next.length > 0) {\r\n\t\t\t\tnext.before(self.selectedEl);\r\n\t\t\t} else {\r\n\t\t\t\tself.selectedEl.parent().before(self.selectedEl);\r\n\t\t\t}\r\n\r\n\t\t\tnewParent = node.parentNode;\r\n\t\t\tnewNextSibling = node.nextSibling;\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: oldParent,\r\n\t\t\t\tnewParent: newParent,\r\n\t\t\t\toldNextSibling: oldNextSibling,\r\n\t\t\t\tnewNextSibling: newNextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#clone-box\").on(\"click\", function (event) {\r\n\t\t\tclone = self.selectedEl.clone();\r\n\r\n\t\t\tself.selectedEl.after(clone);\r\n\r\n\t\t\tself.selectedEl = clone.click();\r\n\r\n\t\t\tnode = clone.get(0);\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'childList',\r\n\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\taddedNodes: [node],\r\n\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#parent-box\").on(\"click\", function (event) {\r\n\r\n\t\t\tnode = self.selectedEl.parent().get(0);\r\n\r\n\t\t\tself.selectNode(node);\r\n\t\t\tself.loadNodeComponent(node);\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#delete-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'childList',\r\n\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\tremovedNodes: [node],\r\n\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t});\r\n\r\n\t\t\tself.selectedEl.remove();\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tjQuery(window.FrameWindow).on(\"scroll resize\", function (event) {\r\n\r\n\t\t\tif (self.selectedEl) {\r\n\t\t\t\toffset = self.selectedEl.offset();\r\n\r\n\t\t\t\tjQuery(\"#select-box\").css(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\"width\": self.selectedEl.outerWidth(),\r\n\t\t\t\t\t\t\"height\": self.selectedEl.outerHeight(),\r\n\t\t\t\t\t\t//\"display\": \"block\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (self.highlightEl) {\r\n\t\t\t\toffset = self.highlightEl.offset();\r\n\r\n\t\t\t\tjQuery(\"#highlight-box\").css(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\"width\": self.highlightEl.outerWidth(),\r\n\t\t\t\t\t\t\"height\": self.highlightEl.outerHeight(),\r\n\t\t\t\t\t\t//\"display\": \"block\"\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t/* drag and drop */\r\n\t_initDragdrop: function () {\r\n\r\n\t\tself.isDragging = false;\r\n\t\tcomponent = {};\r\n\t\t$('#components ul > li > ol > li').on(\"mousedown touchstart\", function (event) {\r\n\r\n\t\t\t$this = jQuery(this);\r\n\r\n\t\t\t// $(\"#component-clone\").remove();\r\n\r\n\r\n\t\t\tcomponent = Vvveb.Components.get($this.data(\"type\"));\r\n\r\n\t\t\tif (component.dragHtml) {\r\n\t\t\t\thtml = component.dragHtml;\r\n\t\t\t} else {\r\n\t\t\t\thtml = component.html;\r\n\t\t\t}\r\n\r\n\t\t\tself.dragElement = $(html);\r\n\r\n\t\t\tif (component.dragStart) self.dragElement = component.dragStart(self.dragElement);\r\n\r\n\t\t\tself.isDragging = true;\r\n\t\t\t// self.iconDrag = $this.clone().attr(\"id\", \"component-clone\").css('position', 'absolute');\r\n\t\t\t// $('body').append(self.iconDrag);\r\n\t\t\tself.iconDrag = true;\r\n\t\t});\r\n\r\n\r\n\t\t$('body').on('mouseup touchend', function (event) {\r\n\t\t\tif (self.iconDrag && self.isDragging == true) {\r\n\t\t\t\tself.isDragging = false;\r\n\t\t\t\t// $(\"#component-clone\").remove();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('body').on('mousemove touchmove', function (event) {\r\n\t\t\tif (self.iconDrag && self.isDragging == true) {\r\n\t\t\t\t// self.iconDrag.css({ 'left': event.originalEvent.x - 60, 'top': event.originalEvent.y - 30 });\r\n\r\n\t\t\t\telementMouseIsOver = document.elementFromPoint(event.clientX - 60, event.clientY - 40);\r\n\r\n\t\t\t\t//if drag elements hovers over iframe switch to iframe mouseover handler\t\r\n\t\t\t\tif (elementMouseIsOver && elementMouseIsOver.tagName == 'IFRAME') {\r\n\t\t\t\t\tself.frameBody.trigger(\"mousemove\", event);\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tself.selectNode(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#components ul > ol > li > li').on(\"mouseup touchend\", function (event) {\r\n\t\t\tself.isDragging = false;\r\n\t\t\t// $(\"#component-clone\").remove();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tgetBeautifiedHtml() {\r\n\t\t/*\r\n\t\t-I, --indent-inner-html            Indent <head> and <body> sections. Default is false.\r\n\t\t-U, --unformatted                  List of tags (defaults to inline) that should not be reformatted\r\n\t\t\t\t\t\t\t\t\t\t   use empty array to denote that no tags should not be reformatted\r\n\t\t */\r\n\t\treturn html_beautify(removeUnusedTags(this.getHtml()), {\r\n\t\t\tpreserve_newlines: false,\r\n\t\t\tindent_inner_html: true,\r\n\t\t\tunformatted: []\r\n\t\t});\r\n\t},\r\n\r\n\tgetHtml: function () {\r\n\t\tdoc = window.FrameDocument;\r\n\r\n\t\treturn \"<!DOCTYPE \"\r\n\t\t\t+ doc.doctype.name\r\n\t\t\t+ (doc.doctype.publicId ? ' PUBLIC \"' + doc.doctype.publicId + '\"' : '')\r\n\t\t\t+ (!doc.doctype.publicId && doc.doctype.systemId ? ' SYSTEM' : '')\r\n\t\t\t+ (doc.doctype.systemId ? ' \"' + doc.doctype.systemId + '\"' : '')\r\n\t\t\t+ \">\\n\"\r\n\t\t\t+ \"<html>\"\r\n\t\t\t+ doc.documentElement.innerHTML\r\n\t\t\t+ \"\\n</html>\";\r\n\t},\r\n\r\n\tsetHtml: function (html) {\r\n\t\t//update only body to avoid breaking iframe css/js relative paths\r\n\t\tstart = html.indexOf(\"<body\");\r\n\t\tend = html.indexOf(\"</body\");\r\n\r\n\t\tif (start >= 0 && end >= 0) {\r\n\t\t\tbody = html.slice(html.indexOf(\">\", start) + 1, end);\r\n\t\t} else {\r\n\t\t\tbody = html\r\n\t\t}\r\n\r\n\t\t//self.frameBody.html(body);\r\n\t\twindow.FrameDocument.body.innerHTML = body;\r\n\r\n\t\t//below methods brake document relative css and js paths\r\n\t\t//return self.iframe.outerHTML = html;\r\n\t\t//return self.documentFrame.html(html);\r\n\t\t//return self.documentFrame.attr(\"srcdoc\", html);\r\n\t}\r\n};\r\n\r\nVvveb.CodeEditor = {\r\n\r\n\tisActive: false,\r\n\toldValue: '',\r\n\tdoc: false,\r\n\r\n\tinit: function (doc) {\r\n\t\t$(\"#vvveb-code-editor textarea\").val(Vvveb.Builder.getBeautifiedHtml());\r\n\r\n\t\t$(\"#vvveb-code-editor textarea\").keyup(function () {\r\n\t\t\tdelay(Vvveb.Builder.setHtml(this.value), 1000);\r\n\t\t});\r\n\r\n\t\t//load code on document changes\r\n\t\tVvveb.Builder.frameBody.on(\"vvveb.undo.add vvveb.undo.restore\", function (e) { Vvveb.CodeEditor.setValue(); });\r\n\t\t//load code when a new url is loaded\r\n\t\tVvveb.Builder.documentFrame.on(\"load\", function (e) { Vvveb.CodeEditor.setValue(); });\r\n\r\n\t\tthis.isActive = true;\r\n\t},\r\n\r\n\tsetValue: function (value) {\r\n\t\tif (this.isActive) {\r\n\t\t\t$(\"#vvveb-code-editor textarea\").val(Vvveb.Builder.getBeautifiedHtml());\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function (element) {\r\n\t\t//this.isActive = false;\r\n\t},\r\n\r\n\ttoggle: function () {\r\n\t\tif (this.isActive != true) {\r\n\t\t\tthis.isActive = true;\r\n\t\t\treturn this.init();\r\n\t\t}\r\n\t\tthis.isActive = false;\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n\r\nVvveb.Gui = {\r\n\r\n\tinit: function () {\r\n\t\t$(\"[data-vvveb-action]\").each(function () {\r\n\t\t\ton = \"click\";\r\n\t\t\tif (this.dataset.vvvebOn) on = this.dataset.vvvebOn;\r\n\r\n\t\t\t$(this).on(on, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\tif (this.dataset.vvvebShortcut) {\r\n\t\t\t\t$(document).bind('keydown', this.dataset.vvvebShortcut, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\t\t$(window.FrameDocument, window.FrameWindow).bind('keydown', this.dataset.vvvebShortcut, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tundo: function () {\r\n\t\tif (Vvveb.WysiwygEditor.isActive) {\r\n\t\t\tVvveb.WysiwygEditor.undo();\r\n\t\t} else {\r\n\t\t\tVvveb.Undo.undo();\r\n\t\t}\r\n\t\tVvveb.Builder.selectNode();\r\n\t},\r\n\r\n\tredo: function () {\r\n\t\tif (Vvveb.WysiwygEditor.isActive) {\r\n\t\t\tVvveb.WysiwygEditor.redo();\r\n\t\t} else {\r\n\t\t\tVvveb.Undo.redo();\r\n\t\t}\r\n\t\tVvveb.Builder.selectNode();\r\n\t},\r\n\r\n\tcheck: function () {\r\n\t\t$('#textarea-modal textarea').val(Vvveb.Builder.getBeautifiedHtml());\r\n\t\t$('#textarea-modal').modal();\r\n\t},\r\n\r\n\tviewport: function () {\r\n\t\t$(\"#canvas\").attr(\"class\", this.dataset.view);\r\n\t},\r\n\r\n\ttoggleEditor: function () {\r\n\t\t$(\"#vvveb-builder\").toggleClass(\"bottom-panel-expand\");\r\n\t\tVvveb.CodeEditor.toggle();\r\n\t},\r\n\r\n\tdownload() {\r\n\t\tdownloadAsTextFile('index', Vvveb.Builder.getBeautifiedHtml());\r\n\t},\r\n\r\n\tpreview: function () {\r\n\t\t$(\"#iframe-layer\").toggle();\r\n\t\t$(\"#vvveb-builder\").toggleClass(\"preview\");\r\n\t},\r\n\r\n\tfullscreen: function () {\r\n\t\tlaunchFullScreen(document); // the whole page\r\n\t},\r\n\r\n\tcomponentSearch: function () {\r\n\t\tsearchText = this.value;\r\n\r\n\t\t$(\"#components-list li ol li\").each(function () {\r\n\t\t\t$this = $(this);\r\n\r\n\t\t\t$this.hide();\r\n\t\t\tif ($this.data(\"search\").indexOf(searchText) > -1) $this.show();\r\n\t\t});\r\n\t},\r\n\r\n\tclearComponentSearch: function () {\r\n\t\t$(\"#component-search\").val(\"\").keyup();\r\n\t}\r\n}\r\n\r\nVvveb.FileManager = {\r\n\ttree: false,\r\n\tpages: {},\r\n\r\n\tinit: function () {\r\n\t\tthis.tree = $(\"#filemanager .tree > ol\").html(\"\");\r\n\r\n\t\t$(this.tree).on(\"click\", \"li[data-page] span\", function (e) {\r\n\r\n\t\t\tVvveb.FileManager.loadPage($(this).parents(\"li\").data(\"page\"));\r\n\t\t\treturn false;\r\n\t\t})\r\n\t},\r\n\r\n\taddPage: function (name, title, url) {\r\n\r\n\t\tthis.pages[name] = { title: title, url: url };\r\n\r\n\t\tthis.tree.append(\r\n\t\t\ttmpl(\"vvveb-filemanager-page\", { name: name, title: title, url: url }));\r\n\t},\r\n\r\n\taddPages: function (pages) {\r\n\t\tfor (page in pages) {\r\n\t\t\tthis.addPage(pages[page]['name'], pages[page]['title'], pages[page]['url']);\r\n\t\t}\r\n\t},\r\n\r\n\taddComponent: function (name, url, title, page) {\r\n\t\t$(\"[data-page='\" + page + \"'] > ol\", this.tree).append(\r\n\t\t\ttmpl(\"vvveb-filemanager-component\", { name: name, url: url, title: title }));\r\n\t},\r\n\r\n\tloadPage: function (name) {\r\n\t\t$(\"[data-page]\", this.tree).removeClass(\"active\");\r\n\t\t$(\"[data-page='\" + name + \"']\", this.tree).addClass(\"active\");\r\n\r\n\t\tVvveb.Builder.loadUrl(this.pages[name]['url']);\r\n\t},\r\n\r\n}\r\n\r\n// Toggle fullscreen\r\nfunction launchFullScreen(document) {\r\n\tif (document.documentElement.requestFullScreen) {\r\n\r\n\t\tif (document.FullScreenElement)\r\n\t\t\tdocument.exitFullScreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.requestFullScreen();\r\n\t\t//mozilla\t\t\r\n\t} else if (document.documentElement.mozRequestFullScreen) {\r\n\r\n\t\tif (document.mozFullScreenElement)\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.mozRequestFullScreen();\r\n\t\t//webkit\t  \r\n\t} else if (document.documentElement.webkitRequestFullScreen) {\r\n\r\n\t\tif (document.webkitFullscreenElement)\r\n\t\t\tdocument.webkitExitFullscreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.webkitRequestFullScreen();\r\n\t\t//ie\t  \r\n\t} else if (document.documentElement.msRequestFullscreen) {\r\n\r\n\t\tif (document.msFullScreenElement)\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.msRequestFullscreen();\r\n\t}\r\n}\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givanz/VvvebJs\r\n*/\r\n\r\n/*\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\r\n\r\nchildList \t\t\t\tSet to true if additions and removals of the target node's child elements (including text nodes) are to be observed.\r\nattributes \t\t\t\tSet to true if mutations to target's attributes are to be observed.\r\ncharacterData \t\t\tSet to true if mutations to target's data are to be observed.\r\nsubtree \t\t\t\tSet to true if mutations to target and target's descendants are to be observed.\r\nattributeOldValue \t\tSet to true if attributes is set to true and target's attribute value before the mutation needs to be recorded.\r\ncharacterDataOldValue \tSet to true if characterData is set to true and target's data before the mutation needs to be recorded.\r\nattributeFilter \t\tSet to an array of attribute local names (without namespace) if not all attribute mutations need to be observed.\r\n*/\r\n\r\n/*\r\nMutationRecord.type\t\t\t\t \tString \t\tReturns \"attributes\" if the mutation was an attribute mutation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"characterData\" if it was a mutation to a CharacterData node,\r\n\t\t\t\t\t\t\t\t\t\t\t\tand \"childList\" if it was a mutation to the tree of nodes.\r\n\r\nMutationRecord.target \t\t\t\tNode \t\tReturns the node the mutation affected, depending on the MutationRecord.type.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor attributes, it is the element whose attribute changed.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor characterData, it is the CharacterData node.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor childList, it is the node whose children changed.\r\n\r\nMutationRecord.addedNodes \t\t\tNodeList \tReturn the nodes added. Will be an empty NodeList if no nodes were added.\r\nMutationRecord.removedNodes \t\tNodeList \tReturn the nodes removed. Will be an empty NodeList if no nodes were removed.\r\nMutationRecord.previousSibling \t\tNode \t\tReturn the previous sibling of the added or removed nodes, or null.\r\nMutationRecord.nextSibling \t\t\tNode \t\tReturn the next sibling of the added or removed nodes, or null.\r\nMutationRecord.attributeName \t\tString \t\tReturns the local name of the changed attribute, or null.\r\nMutationRecord.attributeNamespace \tString \t\tReturns the namespace of the changed attribute, or null.\r\nMutationRecord.oldValue \t\t\tString \t\tThe return value depends on the MutationRecord.type.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor attributes, it is the value of the changed attribute before the change.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor characterData, it is the data of the changed node before the change.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor childList, it is null.\r\n*/\r\nVvveb.Undo = {\r\n\r\n\tundos: [],\r\n\tmutations: [],\r\n\tundoIndex: -1,\r\n\tenabled: true,\r\n\t/*\t\t\r\n\tinit: function() {\r\n\t},\r\n\t*/\r\n\taddMutation(mutation) {\r\n\t\t/*\r\n\t\t\tthis.mutations.push(mutation);\r\n\t\t\tthis.undoIndex++;\r\n\t\t*/\r\n\t\tVvveb.Builder.frameBody.trigger(\"vvveb.undo.add\");\r\n\t\tthis.mutations.splice(++this.undoIndex, 0, mutation);\r\n\t},\r\n\r\n\trestore(mutation, undo) {\r\n\r\n\t\tswitch (mutation.type) {\r\n\t\t\tcase 'childList':\r\n\r\n\t\t\t\tif (undo == true) {\r\n\t\t\t\t\taddedNodes = mutation.removedNodes;\r\n\t\t\t\t\tremovedNodes = mutation.addedNodes;\r\n\t\t\t\t} else //redo\r\n\t\t\t\t{\r\n\t\t\t\t\taddedNodes = mutation.addedNodes;\r\n\t\t\t\t\tremovedNodes = mutation.removedNodes;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (addedNodes) for (i in addedNodes) {\r\n\t\t\t\t\tnode = addedNodes[i];\r\n\t\t\t\t\tif (mutation.nextSibling) {\r\n\t\t\t\t\t\tmutation.nextSibling.parentNode.insertBefore(node, mutation.nextSibling);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmutation.target.append(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (removedNodes) for (i in removedNodes) {\r\n\t\t\t\t\tnode = removedNodes[i];\r\n\t\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'move':\r\n\t\t\t\tif (undo == true) {\r\n\t\t\t\t\tparent = mutation.oldParent;\r\n\t\t\t\t\tsibling = mutation.oldNextSibling;\r\n\t\t\t\t} else //redo\r\n\t\t\t\t{\r\n\t\t\t\t\tparent = mutation.newParent;\r\n\t\t\t\t\tsibling = mutation.newNextSibling;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (sibling) {\r\n\t\t\t\t\tsibling.parentNode.insertBefore(mutation.target, sibling);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent.append(node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'characterData':\r\n\t\t\t\tmutation.target.innerHTML = undo ? mutation.oldValue : mutation.newValue;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'attributes':\r\n\t\t\t\tvalue = undo ? mutation.oldValue : mutation.newValue;\r\n\r\n\t\t\t\tif (value || value === false || value === 0)\r\n\t\t\t\t\tmutation.target.setAttribute(mutation.attributeName, value);\r\n\t\t\t\telse\r\n\t\t\t\t\tmutation.target.removeAttribute(mutation.attributeName);\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tVvveb.Builder.frameBody.trigger(\"vvveb.undo.restore\");\r\n\t},\r\n\r\n\tundo() {\r\n\t\tif (this.undoIndex >= 0) {\r\n\t\t\tthis.restore(this.mutations[this.undoIndex--], true);\r\n\t\t}\r\n\t},\r\n\r\n\tredo() {\r\n\t\tif (this.undoIndex < this.mutations.length - 1) {\r\n\t\t\tthis.restore(this.mutations[++this.undoIndex], false);\r\n\t\t}\r\n\t},\r\n\r\n\thasChanges() {\r\n\t\treturn this.mutations.length;\r\n\t},\r\n};\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givanz/VvvebJs\r\n*/\r\n\r\nvar Input = {\r\n\t\r\n\tinit: function(name) {\r\n\t},\r\n\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.value, this]);\r\n\t\t}\r\n\t},\r\n\r\n\trenderTemplate: function(name, data) {\r\n\t\treturn tmpl(\"vvveb-input-\" + name, data);\r\n\t},\r\n\r\n\trender: function(name, data) {\r\n\t\tthis.element = $(this.renderTemplate(name, data));\r\n\t\t\r\n\t\t//bind events\r\n\t\tif (this.events)\r\n\t\tfor (var i in this.events)\r\n\t\t{\r\n\t\t\tevent = this.events[i][0];\r\n\t\t\tfun = this[ this.events[i][1] ];\r\n\t\t\tel = this.events[i][2];\r\n\t\t\r\n\t\t\tthis.element.on(event, el, {element: this.element, input:this}, fun);\r\n\t\t}\r\n\r\n\t\treturn this.element;\r\n\t}\r\n};\r\n\r\nvar TextInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar CheckboxInput = $.extend({}, Input, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.checked, this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"checkboxinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar SelectInput = $.extend({}, Input, {\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"select\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\n\r\nvar LinkInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar RangeInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"rangeinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar NumberInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"numberinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar CssUnitInput = $.extend({}, Input, {\r\n\r\n\tnumber:0,\r\n\tunit:\"px\",\r\n\t\t\r\n\tonChange: function(event) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tinput = event.data.input;\r\n\t\t\tinput[this.name] = this.value;// this.name = unit or number\t\r\n\t\t\t\r\n\t\t\tvalue = \"\";\t\r\n\t\t\tif (input.unit == \"auto\")  \r\n\t\t\t{\r\n\t\t\t\t$(event.data.element).addClass(\"auto\"); \r\n\t\t\t\tvalue = input.unit;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\t$(event.data.element).removeClass(\"auto\"); \r\n\t\t\t\tvalue = input.number + input.unit;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tevent.data.element.trigger('propertyChange', [value, this]);\r\n\t\t}\r\n\t},\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\tthis.number = parseInt(value);\r\n\t\tthis.unit = value.replace(this.number, '');\r\n\t\t\r\n\t\tif (this.unit == \"auto\") $(this.element).addClass(\"auto\");\r\n\r\n\t\t$('input', this.element).val(this.number);\r\n\t\t$('select', this.element).val(this.unit);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"cssunitinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ColorInput = $.extend({}, Input, {\r\n\r\n\t //html5 color input only supports setting values as hex colors even if the picker returns only rgb\r\n\t rgb2hex: function(rgb) {\r\n\t\t \r\n\t\t rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\t\t \r\n\t\t return (rgb && rgb.length === 4) ? \"#\" +\r\n\t\t  (\"0\" + parseInt(rgb[1],10).toString(16)).slice(-2) +\r\n\t\t  (\"0\" + parseInt(rgb[2],10).toString(16)).slice(-2) +\r\n\t\t  (\"0\" + parseInt(rgb[3],10).toString(16)).slice(-2) : rgb;\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(this.rgb2hex(value));\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"colorinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar FileUploadInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\n\r\nvar RadioInput = $.extend({}, Input, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.value, this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).removeAttr('checked');\r\n\t\tif (value)\r\n\t\t$(\"input[value=\" + value + \"]\", this.element).prop('checked', true);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"radioinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar RadioButtonInput = $.extend({}, RadioInput, {\r\n\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"radiobuttoninput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ToggleInput = $.extend({}, TextInput, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.checked?this.getAttribute(\"data-value-on\"):this.getAttribute(\"data-value-off\"), this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"toggle\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ValueTextInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar GridLayoutInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ProductsInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\n\r\nvar GridInput = $.extend({}, Input, {\r\n\t\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\" /*'select'*/],\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"grid\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar TextValueInput = $.extend({}, Input, {\r\n\t\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t    [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textvalue\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar ButtonInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('button', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"button\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar SectionInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\treturn false;\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"sectioninput\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar ListInput = $.extend({}, Input, {\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"listinput\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givan/Vvvebjs\r\n*/\r\n\r\nbgcolorClasses = [\"bg-primary\", \"bg-secondary\", \"bg-success\", \"bg-danger\", \"bg-warning\", \"bg-info\", \"bg-light\", \"bg-dark\", \"bg-white\"]\r\n\r\nbgcolorSelectOptions = \r\n[{\r\n\tvalue: \"Default\",\r\n\ttext: \"\"\r\n}, \r\n{\r\n\tvalue: \"bg-primary\",\r\n\ttext: \"Primary\"\r\n}, {\r\n\tvalue: \"bg-secondary\",\r\n\ttext: \"Secondary\"\r\n}, {\r\n\tvalue: \"bg-success\",\r\n\ttext: \"Success\"\r\n}, {\r\n\tvalue: \"bg-danger\",\r\n\ttext: \"Danger\"\r\n}, {\r\n\tvalue: \"bg-warning\",\r\n\ttext: \"Warning\"\r\n}, {\r\n\tvalue: \"bg-info\",\r\n\ttext: \"Info\"\r\n}, {\r\n\tvalue: \"bg-light\",\r\n\ttext: \"Light\"\r\n}, {\r\n\tvalue: \"bg-dark\",\r\n\ttext: \"Dark\"\r\n}, {\r\n\tvalue: \"bg-white\",\r\n\ttext: \"White\"\r\n}];\r\n\r\nfunction changeNodeName(node, newNodeName)\r\n{\r\n\tvar newNode;\r\n\tnewNode = document.createElement(newNodeName);\r\n\tattributes = node.get(0).attributes;\r\n\t\r\n\tfor (i = 0, len = attributes.length; i < len; i++) {\r\n\t\tnewNode.setAttribute(attributes[i].nodeName, attributes[i].nodeValue);\r\n\t}\r\n\r\n\t$(newNode).append($(node).contents());\r\n\t$(node).replaceWith(newNode);\r\n\t\r\n\treturn newNode;\r\n}\r\n\r\nVvveb.ComponentsGroup['Bootstrap 4'] =\r\n[\"html/container\", \"html/gridrow\", \"html/button\", \"html/buttongroup\", \"html/buttontoolbar\", \"html/heading\", \"html/image\", \"html/jumbotron\", \"html/alert\", \"html/card\", \"html/listgroup\", \"html/hr\", \"html/taglabel\", \"html/badge\", \"html/progress\", \"html/navbar\", \"html/breadcrumbs\", \"html/pagination\", \"html/form\", \"html/textinput\", \"html/textareainput\", \"html/selectinput\", \"html/fileinput\", \"html/checkbox\", \"html/radiobutton\", \"html/table\", ];\r\n\r\n\r\nvar base_sort = 100;//start sorting for base component from 100 to allow extended properties to be first\r\n\r\nVvveb.Components.add(\"_base\", {\r\n    name: \"Element\",\r\n\tproperties: [{\r\n        key: \"element_header\",\r\n        inputtype: SectionInput,\r\n        name:false,\r\n        sort:base_sort++,\r\n        data: {header:\"General\"},\r\n    }, {\r\n        name: \"Id\",\r\n        key: \"id\",\r\n        htmlAttr: \"id\",\r\n        sort: base_sort++,\r\n        inline:true,\r\n        col:6,\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Class\",\r\n        key: \"class\",\r\n        htmlAttr: \"class\",\r\n        sort: base_sort++,\r\n        inline:true,\r\n        col:6,\r\n        inputtype: TextInput\r\n    }\r\n   ]\r\n});    \r\n\r\n//display\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [\r\n     {\r\n        key: \"display_header\",\r\n        inputtype: SectionInput,\r\n        name:false,\r\n        sort: base_sort++,\r\n        data: {header:\"Display\"},\r\n    }, {\r\n        name: \"Display\",\r\n        key: \"display\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        validValues: [\"block\", \"inline\", \"inline-block\", \"none\"],\r\n        data: {\r\n            options: [{\r\n                value: \"block\",\r\n                text: \"Block\"\r\n            }, {\r\n                value: \"inline\",\r\n                text: \"Inline\"\r\n            }, {\r\n                value: \"inline-block\",\r\n                text: \"Inline Block\"\r\n            }, {\r\n                value: \"none\",\r\n                text: \"none\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Position\",\r\n        key: \"position\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        validValues: [\"static\", \"fixed\", \"relative\", \"absolute\"],\r\n        data: {\r\n            options: [{\r\n                value: \"static\",\r\n                text: \"Static\"\r\n            }, {\r\n                value: \"fixed\",\r\n                text: \"Fixed\"\r\n            }, {\r\n                value: \"relative\",\r\n                text: \"Relative\"\r\n            }, {\r\n                value: \"absolute\",\r\n                text: \"Absolute\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Top\",\r\n        key: \"top\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Left\",\r\n        key: \"left\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"bottom\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Right\",\r\n        key: \"right\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n    },{\r\n        name: \"Float\",\r\n        key: \"float\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n        inline:true,\r\n        inputtype: RadioButtonInput,\r\n        data: {\r\n\t\t\textraclass:\"btn-group-sm btn-group-fullwidth\",\r\n            options: [{\r\n                value: \"none\",\r\n                icon:\"la la-close\",\r\n                //text: \"None\",\r\n                title: \"None\",\r\n                checked:true,\r\n            }, {\r\n                value: \"left\",\r\n                //text: \"Left\",\r\n                title: \"Left\",\r\n                icon:\"la la-align-left\",\r\n                checked:false,\r\n            }, {\r\n                value: \"right\",\r\n                //text: \"Right\",\r\n                title: \"Right\",\r\n                icon:\"la la-align-right\",\r\n                checked:false,\r\n            }],\r\n         }\r\n\t}, {\r\n        name: \"Opacity\",\r\n        key: \"opacity\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: RangeInput,\r\n        data:{\r\n\t\t\tmax: 1, //max zoom level\r\n\t\t\tmin:0,\r\n\t\t\tstep:0.1\r\n       },\r\n\t}, {\r\n        name: \"Background Color\",\r\n        key: \"background-color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n\t}, {\r\n        name: \"Text Color\",\r\n        key: \"color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n  \t}]\r\n});    \r\n\r\n//Typography\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [\r\n     {\r\n\t\tkey: \"typography_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Typography\"},\r\n    }, {\r\n        name: \"Font family\",\r\n        key: \"font-family\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"Arial, Helvetica, sans-serif\",\r\n\t\t\t\ttext: \"Arial\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Lucida Sans Unicode\", \"Lucida Grande\", sans-serif',\r\n\t\t\t\ttext: 'Lucida Grande'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Palatino Linotype\", \"Book Antiqua\", Palatino, serif',\r\n\t\t\t\ttext: 'Palatino Linotype'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: '\"Times New Roman\", Times, serif',\r\n\t\t\t\ttext: 'Times New Roman'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"Georgia, serif\",\r\n\t\t\t\ttext: \"Georgia, serif\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"Tahoma, Geneva, sans-serif\",\r\n\t\t\t\ttext: \"Tahoma\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Comic Sans MS, cursive, sans-serif',\r\n\t\t\t\ttext: 'Comic Sans'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Verdana, Geneva, sans-serif',\r\n\t\t\t\ttext: 'Verdana'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Impact, Charcoal, sans-serif',\r\n\t\t\t\ttext: 'Impact'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Arial Black, Gadget, sans-serif',\r\n\t\t\t\ttext: 'Arial Black'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Trebuchet MS, Helvetica, sans-serif',\r\n\t\t\t\ttext: 'Trebuchet'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Courier New\", Courier, monospace',\r\n\t\t\t\ttext: 'Courier New\", Courier, monospace'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Brush Script MT, sans-serif',\r\n\t\t\t\ttext: 'Brush Script'\r\n\t\t\t}]\r\n\t\t}\r\n\t}, {\r\n        name: \"Font weight\",\r\n        key: \"font-weight\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\t\r\n\t\t\t\tvalue: \"100\",\r\n\t\t\t\ttext: \"Thin\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"200\",\r\n\t\t\t\ttext: \"Extra-Light\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"300\",\r\n\t\t\t\ttext: \"Light\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"400\",\r\n\t\t\t\ttext: \"Normal\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"500\",\r\n\t\t\t\ttext: \"Medium\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"600\",\r\n\t\t\t\ttext: \"Semi-Bold\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"700\",\r\n\t\t\t\ttext: \"Bold\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"800\",\r\n\t\t\t\ttext: \"Extra-Bold\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"900\",\r\n\t\t\t\ttext: \"Ultra-Bold\"\r\n\t\t\t}],\r\n\t\t}\r\n\t}, {\r\n        name: \"Text align\",\r\n        key: \"text-align\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n        inline:true,\r\n        inputtype: RadioButtonInput,\r\n        data: {\r\n\t\t\textraclass:\"btn-group-sm btn-group-fullwidth\",\r\n            options: [{\r\n                value: \"none\",\r\n                icon:\"la la-close\",\r\n                //text: \"None\",\r\n                title: \"None\",\r\n                checked:true,\r\n            }, {\r\n                value: \"left\",\r\n                //text: \"Left\",\r\n                title: \"Left\",\r\n                icon:\"la la-align-left\",\r\n                checked:false,\r\n            }, {\r\n                value: \"center\",\r\n                //text: \"Center\",\r\n                title: \"Center\",\r\n                icon:\"la la-align-center\",\r\n                checked:false,\r\n            }, {\r\n                value: \"right\",\r\n                //text: \"Right\",\r\n                title: \"Right\",\r\n                icon:\"la la-align-right\",\r\n                checked:false,\r\n            }, {\r\n                value: \"justify\",\r\n                //text: \"justify\",\r\n                title: \"Justify\",\r\n                icon:\"la la-align-justify\",\r\n                checked:false,\r\n            }],\r\n        },\r\n\t}, {\r\n        name: \"Line height\",\r\n        key: \"line-height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Letter spacing\",\r\n        key: \"letter-spacing\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Text decoration\",\r\n        key: \"text-decoration-line\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n        inline:true,\r\n        inputtype: RadioButtonInput,\r\n        data: {\r\n\t\t\textraclass:\"btn-group-sm btn-group-fullwidth\",\r\n            options: [{\r\n                value: \"none\",\r\n                icon:\"la la-close\",\r\n                //text: \"None\",\r\n                title: \"None\",\r\n                checked:true,\r\n            }, {\r\n                value: \"underline\",\r\n                //text: \"Left\",\r\n                title: \"underline\",\r\n                icon:\"la la-long-arrow-down\",\r\n                checked:false,\r\n            }, {\r\n                value: \"overline\",\r\n                //text: \"Right\",\r\n                title: \"overline\",\r\n                icon:\"la la-long-arrow-up\",\r\n                checked:false,\r\n            }, {\r\n                value: \"line-through\",\r\n                //text: \"Right\",\r\n                title: \"Line Through\",\r\n                icon:\"la la-strikethrough\",\r\n                checked:false,\r\n            }, {\r\n                value: \"underline overline\",\r\n                //text: \"justify\",\r\n                title: \"Underline Overline\",\r\n                icon:\"la la-arrows-v\",\r\n                checked:false,\r\n            }],\r\n        },\r\n\t}, {\r\n        name: \"Decoration Color\",\r\n        key: \"text-decoration-color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n\t}, {\r\n        name: \"Decoration style\",\r\n        key: \"text-decoration-style\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\t\r\n\t\t\t\tvalue: \"solid\",\r\n\t\t\t\ttext: \"Solid\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"wavy\",\r\n\t\t\t\ttext: \"Wavy\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dotted\",\r\n\t\t\t\ttext: \"Dotted\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dashed\",\r\n\t\t\t\ttext: \"Dashed\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"double\",\r\n\t\t\t\ttext: \"Double\"\r\n\t\t\t}],\r\n\t\t}\r\n  }]\r\n})\r\n    \r\n//Size\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"size_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Size\", expanded:false},\r\n\t}, {\r\n        name: \"Width\",\r\n        key: \"width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Height\",\r\n        key: \"height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Min Width\",\r\n        key: \"min-width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Min Height\",\r\n        key: \"min-height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Max Width\",\r\n        key: \"max-width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Max Height\",\r\n        key: \"max-height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n//Margin\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"margins_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Margin\", expanded:false},\r\n\t}, {\r\n        name: \"Top\",\r\n        key: \"margin-top\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Right\",\r\n        key: \"margin-right\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"margin-bottom\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Left\",\r\n        key: \"margin-Left\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n//Padding\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"paddings_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Padding\", expanded:false},\r\n\t}, {\r\n        name: \"Top\",\r\n        key: \"padding-top\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Right\",\r\n        key: \"padding-right\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"padding-bottom\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Left\",\r\n        key: \"padding-Left\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n\r\n//Border\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"border_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Border\", expanded:false},\r\n\t }, {        \r\n        name: \"Style\",\r\n        key: \"border-style\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\t\r\n\t\t\t\tvalue: \"solid\",\r\n\t\t\t\ttext: \"Solid\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dotted\",\r\n\t\t\t\ttext: \"Dotted\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dashed\",\r\n\t\t\t\ttext: \"Dashed\"\r\n\t\t\t}],\r\n\t\t}\r\n\t}, {\r\n        name: \"Width\",\r\n        key: \"border-width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n   \t}, {\r\n        name: \"Color\",\r\n        key: \"border-color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    }]\r\n});    \r\n\r\nVvveb.Components.extend(\"_base\", \"html/container\", {\r\n    classes: [\"container\", \"container-fluid\"],\r\n    image: \"icons/container.svg\",\r\n    html: '<div class=\"container\"><div class=\"m-5\">Container</div></div>',\r\n    name: \"Container\",\r\n    properties: [\r\n     {\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"container\", \"container-fluid\"],\r\n        data: {\r\n            options: [{\r\n                value: \"container\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"container-fluid\",\r\n                text: \"Fluid\"\r\n            }]\r\n        }\r\n    },\r\n\t{\r\n        name: \"Background\",\r\n        key: \"background\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    },\r\n\t{\r\n        name: \"Background Color\",\r\n        key: \"background-color\",\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    },\r\n\t{\r\n        name: \"Text Color\",\r\n        key: \"color\",\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    }],\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/heading\", {\r\n    image: \"icons/heading.svg\",\r\n    name: \"Heading\",\r\n    nodes: [\"h1\", \"h2\",\"h3\", \"h4\",\"h5\",\"h6\"],\r\n    html: \"<h1>Heading</h1>\",\r\n    \r\n\tproperties: [\r\n\t{\r\n        name: \"Size\",\r\n        key: \"id\",\r\n        htmlAttr: \"id\",\r\n        inputtype: SelectInput,\r\n        \r\n        onChange: function(node, value) {\r\n\t\t\t\r\n\t\t\treturn changeNodeName(node, \"h\" + value);\r\n\t\t},\t\r\n\t\t\t\r\n        init: function(node) {\r\n            var regex;\r\n            regex = /H(\\d)/.exec(node.nodeName);\r\n            if (regex && regex[1]) {\r\n                return regex[1]\r\n            }\r\n            return 1\r\n        },\r\n        \r\n        data:{\r\n\t\t\toptions: [{\r\n                value: \"1\",\r\n                text: \"1\"\r\n            }, {\r\n                value: \"2\",\r\n                text: \"2\"\r\n            }, {\r\n                value: \"3\",\r\n                text: \"3\"\r\n            }, {\r\n                value: \"4\",\r\n                text: \"4\"\r\n            }, {\r\n                value: \"5\",\r\n                text: \"5\"\r\n            }, {\r\n                value: \"6\",\r\n                text: \"6\"\r\n            }]\r\n       },\r\n    }]\r\n});    \r\nVvveb.Components.extend(\"_base\", \"html/link\", {\r\n    nodes: [\"a\"],\r\n    name: \"Link\",\r\n    properties: [{\r\n        name: \"Url\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        inputtype: LinkInput\r\n    }, {\r\n        name: \"Target\",\r\n        key: \"target\",\r\n        htmlAttr: \"target\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/image\", {\r\n    nodes: [\"img\"],\r\n    name: \"Image\",\r\n    html: '<img src=\"' +  Vvveb.baseUrl + 'icons/image.svg\" height=\"128\" width=\"128\">',\r\n    /*\r\n    afterDrop: function (node)\r\n\t{\r\n\t\tnode.attr(\"src\", '');\r\n\t\treturn node;\r\n\t},*/\r\n    image: \"icons/image.svg\",\r\n    properties: [{\r\n        name: \"Image\",\r\n        key: \"src\",\r\n        htmlAttr: \"src\",\r\n        inputtype: FileUploadInput\r\n    }, {\r\n        name: \"Width\",\r\n        key: \"width\",\r\n        htmlAttr: \"width\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Height\",\r\n        key: \"height\",\r\n        htmlAttr: \"height\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Alt\",\r\n        key: \"alt\",\r\n        htmlAttr: \"alt\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.add(\"html/hr\", {\r\n    image: \"icons/hr.svg\",\r\n    nodes: [\"hr\"],\r\n    name: \"Horizontal Rule\",\r\n    html: \"<hr>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/label\", {\r\n    name: \"Label\",\r\n    nodes: [\"label\"],\r\n    html: '<label for=\"\">Label</label>',\r\n    properties: [{\r\n        name: \"For id\",\r\n        htmlAttr: \"for\",\r\n        key: \"for\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/button\", {\r\n    classes: [\"btn\", \"btn-link\"],\r\n    name: \"Button\",\r\n    image: \"icons/button.svg\",\r\n    html: '<button type=\"button\" class=\"btn btn-primary\">Primary</button>',\r\n    properties: [{\r\n        name: \"Link To\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        inputtype: LinkInput\r\n    }, {\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-default\", \"btn-primary\", \"btn-info\", \"btn-success\", \"btn-warning\", \"btn-info\", \"btn-light\", \"btn-dark\", \"btn-outline-primary\", \"btn-outline-info\", \"btn-outline-success\", \"btn-outline-warning\", \"btn-outline-info\", \"btn-outline-light\", \"btn-outline-dark\", \"btn-link\"],\r\n        data: {\r\n            options: [{\r\n                value: \"btn-default\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-primary\",\r\n                text: \"Primary\"\r\n            }, {\r\n                value: \"btn btn-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"btn-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"btn-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"btn-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"btn-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"btn-dark\",\r\n                text: \"Dark\"\r\n            }, {\r\n                value: \"btn-outline-primary\",\r\n                text: \"Primary outline\"\r\n            }, {\r\n                value: \"btn btn-outline-info\",\r\n                text: \"Info outline\"\r\n            }, {\r\n                value: \"btn-outline-success\",\r\n                text: \"Success outline\"\r\n            }, {\r\n                value: \"btn-outline-warning\",\r\n                text: \"Warning outline\"\r\n            }, {\r\n                value: \"btn-outline-info\",\r\n                text: \"Info outline\"\r\n            }, {\r\n                value: \"btn-outline-light\",\r\n                text: \"Light outline\"\r\n            }, {\r\n                value: \"btn-outline-dark\",\r\n                text: \"Dark outline\"\r\n            }, {\r\n                value: \"btn-link\",\r\n                text: \"Link\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-lg\", \"btn-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Target\",\r\n        key: \"target\",\r\n        htmlAttr: \"target\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Disabled\",\r\n        key: \"disabled\",\r\n        htmlAttr: \"class\",\r\n        inputtype: ToggleInput,\r\n        validValues: [\"disabled\"],\r\n        data: {\r\n            on: \"disabled\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/buttongroup\", {\r\n    classes: [\"btn-group\"],\r\n    name: \"Button Group\",\r\n    image: \"icons/button_group.svg\",\r\n    html: '<div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"><button type=\"button\" class=\"btn btn-secondary\">Left</button><button type=\"button\" class=\"btn btn-secondary\">Middle</button> <button type=\"button\" class=\"btn btn-secondary\">Right</button></div>',\r\n\tproperties: [{\r\n\t    name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-group-lg\", \"btn-group-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-group-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-group-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n\t    name: \"Alignment\",\r\n        key: \"alignment\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-group\", \"btn-group-vertical\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-group\",\r\n                text: \"Horizontal\"\r\n            }, {\r\n                value: \"btn-group-vertical\",\r\n                text: \"Vertical\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/buttontoolbar\", {\r\n    classes: [\"btn-toolbar\"],\r\n    name: \"Button Toolbar\",\r\n    image: \"icons/button_toolbar.svg\",\r\n    html: '<div class=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\\\r\n\t\t  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">1</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">2</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">3</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">4</button>\\\r\n\t\t  </div>\\\r\n\t\t  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Second group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">5</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">6</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">7</button>\\\r\n\t\t  </div>\\\r\n\t\t  <div class=\"btn-group\" role=\"group\" aria-label=\"Third group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">8</button>\\\r\n\t\t  </div>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\",\"html/alert\", {\r\n    classes: [\"alert\"],\r\n    name: \"Alert\",\r\n    image: \"icons/alert.svg\",\r\n    html: '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\\\r\n\t\t  <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\\\r\n\t\t\t<span aria-hidden=\"true\">&times;</span>\\\r\n\t\t  </button>\\\r\n\t\t  <strong>Holy guacamole!</strong> You should check in on some of those fields below.\\\r\n\t\t</div>',\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"alert-primary\", \"alert-secondary\", \"alert-success\", \"alert-danger\", \"alert-warning\", \"alert-info\", \"alert-light\", \"alert-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"alert-primary\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"alert-secondary\",\r\n                text: \"Secondary\"\r\n            }, {\r\n                value: \"alert-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"alert-danger\",\r\n                text: \"Danger\"\r\n            }, {\r\n                value: \"alert-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"alert-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"alert-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"alert-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/badge\", {\r\n    classes: [\"badge\"],\r\n    image: \"icons/badge.svg\",\r\n    name: \"Badge\",\r\n    html: '<span class=\"badge badge-primary\">Primary badge</span>',\r\n    properties: [{\r\n        name: \"Color\",\r\n        key: \"color\",\r\n        htmlAttr: \"class\",\r\n        validValues:[\"badge-primary\", \"badge-secondary\", \"badge-success\", \"badge-danger\", \"badge-warning\", \"badge-info\", \"badge-light\", \"badge-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"badge-primary\",\r\n                text: \"Primary\"\r\n            }, {\r\n                value: \"badge-secondary\",\r\n                text: \"Secondary\"\r\n            }, {\r\n                value: \"badge-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"badge-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"badge-danger\",\r\n                text: \"Danger\"\r\n            }, {\r\n                value: \"badge-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"badge-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"badge-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n     }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/card\", {\r\n    classes: [\"card\"],\r\n    image: \"icons/panel.svg\",\r\n    name: \"Card\",\r\n    html: '<div class=\"card\">\\\r\n\t\t  <img class=\"card-img-top\" src=\"../libs/builder/icons/image.svg\" alt=\"Card image cap\" width=\"128\" height=\"128\">\\\r\n\t\t  <div class=\"card-body\">\\\r\n\t\t\t<h4 class=\"card-title\">Card title</h4>\\\r\n\t\t\t<p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card\\'s content.</p>\\\r\n\t\t\t<a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\\\r\n\t\t  </div>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/listgroup\", {\r\n    name: \"List Group\",\r\n    image: \"icons/list_group.svg\",\r\n    classes: [\"list-group\"],\r\n    html: '<ul class=\"list-group\">\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">14</span>\\n    Cras justo odio\\n  </li>\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">2</span>\\n    Dapibus ac facilisis in\\n  </li>\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">1</span>\\n    Morbi leo risus\\n  </li>\\n</ul>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/listitem\", {\r\n    name: \"List Item\",\r\n    classes: [\"list-group-item\"],\r\n    html: '<li class=\"list-group-item\"><span class=\"badge\">14</span> Cras justo odio</li>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/breadcrumbs\", {\r\n    classes: [\"breadcrumb\"],\r\n    name: \"Breadcrumbs\",\r\n    image: \"icons/breadcrumbs.svg\",\r\n    html: '<ol class=\"breadcrumb\">\\\r\n\t\t  <li class=\"breadcrumb-item active\"><a href=\"#\">Home</a></li>\\\r\n\t\t  <li class=\"breadcrumb-item active\"><a href=\"#\">Library</a></li>\\\r\n\t\t  <li class=\"breadcrumb-item active\">Data 3</li>\\\r\n\t\t</ol>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/breadcrumbitem\", {\r\n\tclasses: [\"breadcrumb-item\"],\r\n    name: \"Breadcrumb Item\",\r\n    html: '<li class=\"breadcrumb-item\"><a href=\"#\">Library</a></li>',\r\n    properties: [{\r\n        name: \"Active\",\r\n        key: \"active\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"active\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"active\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/pagination\", {\r\n    classes: [\"pagination\"],\r\n    name: \"Pagination\",\r\n    image: \"icons/pagination.svg\",\r\n    html: '<nav aria-label=\"Page navigation example\">\\\r\n\t  <ul class=\"pagination\">\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\\\r\n\t  </ul>\\\r\n\t</nav>',\r\n\r\n    properties: [{\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-lg\", \"btn-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    },{\r\n        name: \"Alignment\",\r\n        key: \"alignment\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"justify-content-center\", \"justify-content-end\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"justify-content-center\",\r\n                text: \"Center\"\r\n            }, {\r\n                value: \"justify-content-end\",\r\n                text: \"Right\"\r\n            }]\r\n        }\r\n    }]\t\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/pageitem\", {\r\n\tclasses: [\"page-item\"],\r\n    html: '<li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>',\r\n    name: \"Pagination Item\",\r\n    properties: [{\r\n        name: \"Link To\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        child:\".page-link\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Disabled\",\r\n        key: \"disabled\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"disabled\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"disabled\",\r\n            off: \"\"\r\n        }\r\n   }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/progress\", {\r\n    classes: [\"progress\"],\r\n    name: \"Progress Bar\",\r\n    image: \"icons/progressbar.svg\",\r\n    html: '<div class=\"progress\"><div class=\"progress-bar w-25\"></div></div>',\r\n    properties: [{\r\n        name: \"Background\",\r\n        key: \"background\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    },\r\n    {\r\n        name: \"Progress\",\r\n        key: \"background\",\r\n        child:\".progress-bar\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: [\"\", \"w-25\", \"w-50\", \"w-75\", \"w-100\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"None\"\r\n            }, {\r\n                value: \"w-25\",\r\n                text: \"25%\"\r\n            }, {\r\n                value: \"w-50\",\r\n                text: \"50%\"\r\n            }, {\r\n                value: \"w-75\",\r\n                text: \"75%\"\r\n            }, {\r\n                value: \"w-100\",\r\n                text: \"100%\"\r\n            }]\r\n        }\r\n    }, \r\n    {\r\n        name: \"Progress background\",\r\n        key: \"background\",\r\n        child:\".progress-bar\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    }, {\r\n        name: \"Striped\",\r\n        key: \"striped\",\r\n        child:\".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"progress-bar-striped\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"progress-bar-striped\",\r\n            off: \"\",\r\n        }\r\n    }, {\r\n        name: \"Animated\",\r\n        key: \"animated\",\r\n        child:\".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"progress-bar-animated\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"progress-bar-animated\",\r\n            off: \"\",\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/jumbotron\", {\r\n    classes: [\"jumbotron\"],\r\n    image: \"icons/jumbotron.svg\",\r\n    name: \"Jumbotron\",\r\n    html: '<div class=\"jumbotron\">\\\r\n\t\t  <h1 class=\"display-3\">Hello, world!</h1>\\\r\n\t\t  <p class=\"lead\">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>\\\r\n\t\t  <hr class=\"my-4\">\\\r\n\t\t  <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>\\\r\n\t\t  <p class=\"lead\">\\\r\n\t\t\t<a class=\"btn btn-primary btn-lg\" href=\"#\" role=\"button\">Learn more</a>\\\r\n\t\t  </p>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/navbar\", {\r\n    classes: [\"navbar\"],\r\n    image: \"icons/navbar.svg\",\r\n    name: \"Nav Bar\",\r\n    html: '<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\\\r\n\t\t  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\\\r\n\t\t  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\\\r\n\t\t\t<span class=\"navbar-toggler-icon\"></span>\\\r\n\t\t  </button>\\\r\n\t\t\\\r\n\t\t  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\\\r\n\t\t\t<ul class=\"navbar-nav mr-auto\">\\\r\n\t\t\t  <li class=\"nav-item active\">\\\r\n\t\t\t\t<a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t  <li class=\"nav-item\">\\\r\n\t\t\t\t<a class=\"nav-link\" href=\"#\">Link</a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t  <li class=\"nav-item\">\\\r\n\t\t\t\t<a class=\"nav-link disabled\" href=\"#\">Disabled</a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t</ul>\\\r\n\t\t\t<form class=\"form-inline my-2 my-lg-0\">\\\r\n\t\t\t  <input class=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\\\r\n\t\t\t  <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\\\r\n\t\t\t</form>\\\r\n\t\t  </div>\\\r\n\t\t</nav>',\r\n    \r\n    properties: [{\r\n        name: \"Color theme\",\r\n        key: \"color\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"navbar-light\", \"navbar-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"navbar-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"navbar-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    },{\r\n        name: \"Background color\",\r\n        key: \"background\",\r\n        htmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    }, {\r\n        name: \"Placement\",\r\n        key: \"placement\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"fixed-top\", \"fixed-bottom\", \"sticky-top\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"fixed-top\",\r\n                text: \"Fixed Top\"\r\n            }, {\r\n                value: \"fixed-bottom\",\r\n                text: \"Fixed Bottom\"\r\n            }, {\r\n                value: \"sticky-top\",\r\n                text: \"Sticky top\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/form\", {\r\n    nodes: [\"form\"],\r\n    image: \"icons/form.svg\",\r\n    name: \"Form\",\r\n    html: '<form><div class=\"form-group\"><label>Text</label><input type=\"text\" class=\"form-control\"></div></div></form>',\r\n    properties: [{\r\n        name: \"Style\",\r\n        key: \"style\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"form-search\", \"form-inline\", \"form-horizontal\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"form-search\",\r\n                text: \"Search\"\r\n            }, {\r\n                value: \"form-inline\",\r\n                text: \"Inline\"\r\n            }, {\r\n                value: \"form-horizontal\",\r\n                text: \"Horizontal\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Action\",\r\n        key: \"action\",\r\n        htmlAttr: \"action\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Method\",\r\n        key: \"method\",\r\n        htmlAttr: \"method\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/textinput\", {\r\n    name: \"Text Input\",\r\n\tattributes: {\"type\":\"text\"},\r\n    image: \"icons/text_input.svg\",\r\n    html: '<div class=\"form-group\" style=\"display: inline-block;\"><label>Text</label><input type=\"text\" class=\"form-control\"></div></div>',\r\n    properties: [{\r\n        name: \"Value\",\r\n        key: \"value\",\r\n        htmlAttr: \"value\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Placeholder\",\r\n        key: \"placeholder\",\r\n        htmlAttr: \"placeholder\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/selectinput\", {\r\n\tnodes: [\"select\"],\r\n    name: \"Select Input\",\r\n    image: \"icons/select_input.svg\",\r\n    html: '<div class=\"form-group\"><label>Choose an option </label><select class=\"form-control\"><option value=\"value1\">Text 1</option><option value=\"value2\">Text 2</option><option value=\"value3\">Text 3</option></select></div>',\r\n\r\n\tbeforeInit: function (node)\r\n\t{\r\n\t\tproperties = [];\r\n\t\tvar i = 0;\r\n\t\t\r\n\t\t$(node).find('option').each(function() {\r\n\r\n\t\t\tdata = {\"value\": this.value, \"text\": this.text};\r\n\t\t\t\r\n\t\t\ti++;\r\n\t\t\tproperties.push({\r\n\t\t\t\tname: \"Option \" + i,\r\n\t\t\t\tkey: \"option\" + i,\r\n\t\t\t\t//index: i - 1,\r\n\t\t\t\toptionNode: this,\r\n\t\t\t\tinputtype: TextValueInput,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tonChange: function(node, value, input) {\r\n\t\t\t\t\t\r\n\t\t\t\t\toption = $(this.optionNode);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//if remove button is clicked remove option and render row properties\r\n\t\t\t\t\tif (input.nodeName == 'BUTTON')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toption.remove();\r\n\t\t\t\t\t\tVvveb.Components.render(\"html/selectinput\");\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (input.name == \"value\") option.attr(\"value\", value); \r\n\t\t\t\t\telse if (input.name == \"text\") option.text(value);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\t\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t//remove all option properties\r\n\t\tthis.properties = this.properties.filter(function(item) {\r\n\t\t\treturn item.key.indexOf(\"option\") === -1;\r\n\t\t});\r\n\t\t\r\n\t\t//add remaining properties to generated column properties\r\n\t\tproperties.push(this.properties[0]);\r\n\t\t\r\n\t\tthis.properties = properties;\r\n\t\treturn node;\r\n\t},\r\n    \r\n    properties: [{\r\n        name: \"Option\",\r\n        key: \"option1\",\r\n        inputtype: TextValueInput\r\n\t}, {\r\n        name: \"Option\",\r\n        key: \"option2\",\r\n        inputtype: TextValueInput\r\n\t}, {\r\n        name: \"\",\r\n        key: \"addChild\",\r\n        inputtype: ButtonInput,\r\n        data: {text:\"Add option\"},\r\n        onChange: function(node)\r\n        {\r\n\t\t\t $(node).append('<option value=\"value\">Text</option>');\r\n\t\t\t \r\n\t\t\t //render component properties again to include the new column inputs\r\n\t\t\t Vvveb.Components.render(\"html/selectinput\");\r\n\t\t\t \r\n\t\t\t return node;\r\n\t\t}\r\n\t}]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/textareainput\", {\r\n    name: \"Text Area\",\r\n    image: \"icons/text_area.svg\",\r\n    html: '<div class=\"form-group\"><label>Your response:</label><textarea class=\"form-control\"></textarea></div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/radiobutton\", {\r\n    name: \"Radio Button\",\r\n\tattributes: {\"type\":\"radio\"},\r\n    image: \"icons/radio.svg\",\r\n    html: '<label class=\"radio\"><input type=\"radio\"> Radio</label>',\r\n    properties: [{\r\n        name: \"Name\",\r\n        key: \"name\",\r\n        htmlAttr: \"name\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/checkbox\", {\r\n    name: \"Checkbox\",\r\n    attributes: {\"type\":\"checkbox\"},\r\n    image: \"icons/checkbox.svg\",\r\n    html: '<label class=\"checkbox\"><input type=\"checkbox\"> Checkbox</label>',\r\n    properties: [{\r\n        name: \"Name\",\r\n        key: \"name\",\r\n        htmlAttr: \"name\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/fileinput\", {\r\n    name: \"Input group\",\r\n\tattributes: {\"type\":\"file\"},\r\n    image: \"icons/text_input.svg\",\r\n    html: '<div class=\"form-group\">\\\r\n\t\t\t  <input type=\"file\" class=\"form-control\">\\\r\n\t\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/table\", {\r\n    nodes: [\"table\"],\r\n    classes: [\"table\"],\r\n    image: \"icons/table.svg\",\r\n    name: \"Table\",\r\n    html: '<table class=\"table\">\\\r\n\t\t  <thead>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th>#</th>\\\r\n\t\t\t  <th>First Name</th>\\\r\n\t\t\t  <th>Last Name</th>\\\r\n\t\t\t  <th>Username</th>\\\r\n\t\t\t</tr>\\\r\n\t\t  </thead>\\\r\n\t\t  <tbody>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">1</th>\\\r\n\t\t\t  <td>Mark</td>\\\r\n\t\t\t  <td>Otto</td>\\\r\n\t\t\t  <td>@mdo</td>\\\r\n\t\t\t</tr>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">2</th>\\\r\n\t\t\t  <td>Jacob</td>\\\r\n\t\t\t  <td>Thornton</td>\\\r\n\t\t\t  <td>@fat</td>\\\r\n\t\t\t</tr>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">3</th>\\\r\n\t\t\t  <td>Larry</td>\\\r\n\t\t\t  <td>the Bird</td>\\\r\n\t\t\t  <td>@twitter</td>\\\r\n\t\t\t</tr>\\\r\n\t\t  </tbody>\\\r\n\t\t</table>',\r\n    properties: [\r\n\t{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: [\"table-primary\", \"table-secondary\", \"table-success\", \"table-danger\", \"table-warning\", \"table-info\", \"table-light\", \"table-dark\", \"table-white\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n\t\t\t\tvalue: \"Default\",\r\n\t\t\t\ttext: \"\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-primary\",\r\n\t\t\t\ttext: \"Primary\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-secondary\",\r\n\t\t\t\ttext: \"Secondary\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-success\",\r\n\t\t\t\ttext: \"Success\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-danger\",\r\n\t\t\t\ttext: \"Danger\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-warning\",\r\n\t\t\t\ttext: \"Warning\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-info\",\r\n\t\t\t\ttext: \"Info\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-light\",\r\n\t\t\t\ttext: \"Light\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-dark\",\r\n\t\t\t\ttext: \"Dark\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-white\",\r\n\t\t\t\ttext: \"White\"\r\n\t\t\t}]\r\n        }\r\n    },\r\n\t{\r\n        name: \"Responsive\",\r\n        key: \"responsive\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-responsive\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-responsive\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Small\",\r\n        key: \"small\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-sm\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-sm\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Hover\",\r\n        key: \"hover\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-hover\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-hover\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Bordered\",\r\n        key: \"bordered\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-bordered\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-bordered\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Striped\",\r\n        key: \"striped\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-striped\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-striped\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Inverse\",\r\n        key: \"inverse\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-inverse\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-inverse\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n    {\r\n        name: \"Head options\",\r\n        key: \"head\",\r\n        htmlAttr: \"class\",\r\n        child:\"thead\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"thead-inverse\", \"thead-default\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"None\"\r\n            }, {\r\n                value: \"thead-default\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"thead-inverse\",\r\n                text: \"Inverse\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablerow\", {\r\n    nodes: [\"tr\"],\r\n    name: \"Table Row\",\r\n    html: \"<tr><td>Cell 1</td><td>Cell 2</td><td>Cell 3</td></tr>\",\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"success\", \"danger\", \"warning\", \"active\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"error\",\r\n                text: \"Error\"\r\n            }, {\r\n                value: \"warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"active\",\r\n                text: \"Active\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablecell\", {\r\n    nodes: [\"td\"],\r\n    name: \"Table Cell\",\r\n    html: \"<td>Cell</td>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tableheadercell\", {\r\n    nodes: [\"th\"],\r\n    name: \"Table Header Cell\",\r\n    html: \"<th>Head</th>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablehead\", {\r\n    nodes: [\"thead\"],\r\n    name: \"Table Head\",\r\n    html: \"<thead><tr><th>Head 1</th><th>Head 2</th><th>Head 3</th></tr></thead>\",\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"success\", \"danger\", \"warning\", \"info\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"anger\",\r\n                text: \"Error\"\r\n            }, {\r\n                value: \"warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"info\",\r\n                text: \"Info\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablebody\", {\r\n    nodes: [\"tbody\"],\r\n    name: \"Table Body\",\r\n    html: \"<tbody><tr><td>Cell 1</td><td>Cell 2</td><td>Cell 3</td></tr></tbody>\"\r\n});\r\n\r\nVvveb.Components.add(\"html/gridcolumn\", {\r\n    name: \"Grid Column\",\r\n    image: \"icons/grid_row.svg\",\r\n    classesRegex: [\"col-\"],\r\n    html: '<div class=\"col-sm-4\"><h3>col-sm-4</h3></div>',\r\n    properties: [{\r\n        name: \"Column\",\r\n        key: \"column\",\r\n        inputtype: GridInput,\r\n        data: {hide_remove:true},\r\n\t\t\r\n\t\tbeforeInit: function(node) {\r\n\t\t\t_class = $(node).attr(\"class\");\r\n\t\t\t\r\n\t\t\tvar reg = /col-([^-\\$ ]*)?-?(\\d+)/g; \r\n\t\t\tvar match;\r\n\r\n\t\t\twhile ((match = reg.exec(_class)) != null) {\r\n\t\t\t\tthis.data[\"col\" + ((match[1] != undefined)?\"_\" + match[1]:\"\")] = match[2];\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonChange: function(node, value, input) {\r\n\t\t\t_class = node.attr(\"class\");\r\n\t\t\t\r\n\t\t\t//remove previous breakpoint column size\r\n\t\t\t_class = _class.replace(new RegExp(input.name + '-\\\\d+?'), '');\r\n\t\t\t//add new column size\r\n\t\t\tif (value) _class +=  ' ' + input.name + '-' + value;\r\n\t\t\tnode.attr(\"class\", _class);\r\n\t\t\t\r\n\t\t\treturn node;\r\n\t\t},\t\t\t\t\r\n\t}]\r\n});\r\nVvveb.Components.add(\"html/gridrow\", {\r\n    name: \"Grid Row\",\r\n    image: \"icons/grid_row.svg\",\r\n    classes: [\"row\"],\r\n    html: '<div class=\"row\"><div class=\"col-sm-4\"><h3>col-sm-4</h3></div><div class=\"col-sm-4 col-5\"><h3>col-sm-4</h3></div><div class=\"col-sm-4\"><h3>col-sm-4</h3></div></div>',\r\n    \r\n\tbeforeInit: function (node)\r\n\t{\r\n\t\tproperties = [];\r\n\t\tvar i = 0;\r\n\t\tvar j = 0;\r\n\t\t\r\n\t\t$(node).find('[class*=\"col-\"]').each(function() {\r\n\t\t\t_class = $(this).attr(\"class\");\r\n\t\t\t\r\n\t\t\tvar reg = /col-([^-\\$ ]*)?-?(\\d+)/g; \r\n\t\t\tvar match;\r\n\t\t\tdata = {};\r\n\r\n\t\t\twhile ((match = reg.exec(_class)) != null) {\r\n\t\t\t\tdata[\"col\" + ((match[1] != undefined)?\"_\" + match[1]:\"\")] = match[2];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ti++;\r\n\t\t\tproperties.push({\r\n\t\t\t\tname: \"Column \" + i,\r\n\t\t\t\tkey: \"column\" + i,\r\n\t\t\t\t//index: i - 1,\r\n\t\t\t\tcolumnNode: this,\r\n\t\t\t\tinline:true,\r\n\t\t\t\tinputtype: GridInput,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tonChange: function(node, value, input) {\r\n\r\n\t\t\t\t\t//column = $('[class*=\"col-\"]:eq(' + this.index + ')', node);\r\n\t\t\t\t\tcolumn = $(this.columnNode);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//if remove button is clicked remove column and render row properties\r\n\t\t\t\t\tif (input.nodeName == 'BUTTON')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumn.remove();\r\n\t\t\t\t\t\tVvveb.Components.render(\"html/gridrow\");\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//if select input then change column class\r\n\t\t\t\t\t_class = column.attr(\"class\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t//remove previous breakpoint column size\r\n\t\t\t\t\t_class = _class.replace(new RegExp(input.name + '-\\\\d+?'), '');\r\n\t\t\t\t\t//add new column size\r\n\t\t\t\t\tif (value) _class +=  ' ' + input.name + '-' + value;\r\n\t\t\t\t\tcolumn.attr(\"class\", _class);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\t\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t//remove all column properties\r\n\t\tthis.properties = this.properties.filter(function(item) {\r\n\t\t\treturn item.key.indexOf(\"column\") === -1;\r\n\t\t});\r\n\t\t\r\n\t\t//add remaining properties to generated column properties\r\n\t\tproperties.push(this.properties[0]);\r\n\t\t\r\n\t\tthis.properties = properties;\r\n\t\treturn node;\r\n\t},\r\n    \r\n    properties: [{\r\n        name: \"Column\",\r\n        key: \"column1\",\r\n        inputtype: GridInput\r\n\t}, {\r\n        name: \"Column\",\r\n        key: \"column1\",\r\n        inline:true,\r\n        col:12,\r\n        inputtype: GridInput\r\n\t}, {\r\n        name: \"\",\r\n        key: \"addChild\",\r\n        inputtype: ButtonInput,\r\n        data: {text:\"Add column\"},\r\n        onChange: function(node)\r\n        {\r\n\t\t\t $(node).append('<div class=\"col-3\">Col-3</div>');\r\n\t\t\t \r\n\t\t\t //render component properties again to include the new column inputs\r\n\t\t\t Vvveb.Components.render(\"html/gridrow\");\r\n\t\t\t \r\n\t\t\t return node;\r\n\t\t}\r\n\t}]\r\n});\r\n\r\n(function () {\r\n    $(document).ready(() => {\r\n        let isElementCreated = false;\r\n        let $element;\r\n\r\n        interact('#components-list li ol li')\r\n            .draggable({\r\n                // enable inertial throwing\r\n                inertia: true,\r\n                // keep the element within the area of it's parent\r\n                restrict: {\r\n                    restriction: document.getElementById('iframeId').contentWindow.document.body,\r\n                    endOnly: true,\r\n                    elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\r\n                },\r\n                // enable autoScroll\r\n                autoScroll: true,\r\n\r\n                // call this function on every dragmove event\r\n                onmove: event => {\r\n                    if (!isElementCreated) {\r\n                        const component = Vvveb.Components.get($(event.target).data(\"type\"));\r\n                        const html = component.dragHtml || component.html;\r\n\r\n                        const { left, top } = $(event.target).offset();\r\n                        $element = $(html).css({\r\n                            position: 'absolute',\r\n                            left,\r\n                            top,\r\n                            'z-index': 999\r\n                        });\r\n                        isElementCreated = true;\r\n                        $('body').append($element);\r\n                    }\r\n\r\n                    const target = event.target,\r\n                        // keep the dragged position in the data-x/data-y attributes\r\n                        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,\r\n                        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;\r\n\r\n                    $element.css({\r\n                        transform: `translate(${x}px, ${y}px)`\r\n                    });\r\n\r\n                    // update the position attributes\r\n                    target.setAttribute('data-x', x);\r\n                    target.setAttribute('data-y', y);\r\n                },\r\n                // call this function on every dragend event\r\n                onend: event => {\r\n                    const left = $element.offset().left - $('#iframeId').offset().left,\r\n                        top = $element.offset().top - $('#iframeId').offset().top;\r\n                    $element.css({\r\n                        left,\r\n                        top,\r\n                        transform: ''\r\n                    });\r\n\r\n                    isElementCreated = false;\r\n                    // remove the position attributes\r\n                    event.target.removeAttribute('data-x');\r\n                    event.target.removeAttribute('data-y');\r\n\r\n                    // 直接替换元素会有拖动问题，可能是因为元素本身在父页面，所以包含一些特殊属性有关\r\n                    // 获得html字符串，然后再进行替换\r\n                    self.dragElement && self.dragElement.replaceWith($element.prop(\"outerHTML\"));\r\n                    $element.remove();\r\n                    // self.dragElement && myFrame.replaceWith(self.dragElement, $element);\r\n                    const textEl = event.target.querySelector('p');\r\n\r\n                    textEl && (textEl.textContent =\r\n                        'moved a distance of '\r\n                        + (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +\r\n                            Math.pow(event.pageY - event.y0, 2) | 0))\r\n                            .toFixed(2) + 'px');\r\n                }\r\n            })\r\n        // .resizable({\r\n        //     // resize from all edges and corners\r\n        //     edges: { left: true, right: true, bottom: true, top: true },\r\n\r\n        //     // keep the edges inside the parent\r\n        //     restrictEdges: {\r\n        //         outer: 'parent',\r\n        //         endOnly: true,\r\n        //     },\r\n\r\n        //     // minimum size\r\n        //     restrictSize: {\r\n        //         min: { width: 100, height: 50 },\r\n        //     },\r\n\r\n        //     inertia: true,\r\n        // })\r\n        // .on('resizemove', function (event) {\r\n        //     var target = event.target,\r\n        //         x = (parseFloat(target.getAttribute('data-x')) || 0),\r\n        //         y = (parseFloat(target.getAttribute('data-y')) || 0);\r\n\r\n        //     // update the element's style\r\n        //     target.style.width = event.rect.width + 'px';\r\n        //     target.style.height = event.rect.height + 'px';\r\n\r\n        //     // translate when resizing from top or left edges\r\n        //     x += event.deltaRect.left;\r\n        //     y += event.deltaRect.top;\r\n\r\n        //     target.style.webkitTransform = target.style.transform =\r\n        //         'translate(' + x + 'px,' + y + 'px)';\r\n\r\n        //     target.setAttribute('data-x', x);\r\n        //     target.setAttribute('data-y', y);\r\n        //     target.textContent = Math.round(event.rect.width) + '\\u00D7' + Math.round(event.rect.height);\r\n        // });\r\n    });\r\n})();"]}