{"version":3,"sources":["../concated/concated.js"],"names":["cache","tmpl","str","data","fn","test","document","getElementById","innerHTML","Function","replace","split","join","delay","timer","callback","ms","clearTimeout","setTimeout","getStyle","el","styleProp","value","style","length","currentStyle","window","getComputedStyle","defaultView","getDefaultComputedStyle","getPropertyValue","downloadAsTextFile","filename","text","element","createElement","setAttribute","encodeURIComponent","display","body","appendChild","click","removeChild","Vvveb","undefined","defaultComponent","preservePropertySections","baseUrl","currentScript","src","ComponentsGroup","Components","_components","_nodesLookup","_attributesLookup","_classesLookup","_classesRegexLookup","init","url","get","type","add","nodes","i","attributes","constructor","Array","classes","classesRegex","extend","inheritType","newData","inheritData","$","properties","merge","sort","a","b","matchNode","node","attr","name","component","j","regex","regexObj","RegExp","exec","tagName","toLowerCase","render","rightPanel","jQuery","section","find","html","append","key","header","beforeInit","Builder","selectedEl","property","input","on","event","child","parent","onChange","htmlAttr","oldValue","validValues","removeClass","addClass","css","Undo","addMutation","target","attributeName","newValue","selectNode","nodeElement","group","inputtype","setValue","filter","indexOf","SectionInput","row","WysiwygEditor","isActive","doc","e","execCommand","preventDefault","undo","redo","edit","show","destroy","removeAttr","hide","dragMoveMutation","self","loadControlGroups","highlightEl","initCallback","documentFrame","canvas","_loadIframe","_initDragdrop","dragElement","componentsList","empty","componentsSubList","components","componentType","item","image","backgroundImage","backgroundRepeat","loadUrl","iframe","FrameWindow","contentWindow","FrameDocument","_frameLoaded","frameDoc","frameHtml","frameBody","_initHightlight","_getElementType","componentName","nodeName","loadNodeComponent","texteditEl","offset","top","scrollTop","left","scrollLeft","outerWidth","outerHeight","moveEvent","timeStamp","width","height","isDragging","console","log","parentOffset","originalEvent","x","y","before","prepend","prependTo","appendTo","err","pageX","pageY","hasAttribute","dragHtml","newElement","replaceWith","afterDrop","parentNode","addedNodes","nextSibling","newParent","newNextSibling","oldParent","oldNextSibling","next","after","prev","clone","removedNodes","remove","$this","dragStart","iconDrag","elementMouseIsOver","elementFromPoint","clientX","clientY","trigger","stopPropagation","getBeautifiedHtml","html_beautify","getHtml","indent_inner_html","unformatted","doctype","publicId","systemId","documentElement","setHtml","start","end","slice","CodeEditor","val","keyup","toggle","Gui","each","dataset","vvvebOn","vvvebAction","vvvebShortcut","bind","check","modal","viewport","view","toggleEditor","toggleClass","download","preview","fullscreen","launchFullScreen","componentSearch","searchText","clearComponentSearch","FileManager","tree","pages","loadPage","parents","addPage","title","addPages","page","addComponent","requestFullScreen","FullScreenElement","exitFullScreen","mozRequestFullScreen","mozFullScreenElement","mozCancelFullScreen","webkitRequestFullScreen","webkitFullscreenElement","webkitExitFullscreen","msRequestFullscreen","msFullScreenElement","msExitFullscreen","undos","mutations","undoIndex","enabled","mutation","splice","restore","insertBefore","sibling","removeAttribute","hasChanges","Input","renderTemplate","events","fun","TextInput","CheckboxInput","checked","SelectInput","LinkInput","RangeInput","NumberInput","CssUnitInput","number","unit","parseInt","ColorInput","rgb2hex","rgb","match","toString","FileUploadInput","RadioInput","prop","RadioButtonInput","ToggleInput","getAttribute","ValueTextInput","GridLayoutInput","ProductsInput","GridInput","TextValueInput","ButtonInput","ListInput","bgcolorClasses","bgcolorSelectOptions","changeNodeName","newNodeName","newNode","len","nodeValue","contents","base_sort","inline","col","options","extraclass","icon","max","min","step","expanded","off","push","optionNode","option","hide_remove","_class","reg","columnNode","column","ready","isElementCreated","$element","interact","draggable","inertia","restrict","restriction","endOnly","elementRect","bottom","right","autoScroll","onmove","position","parseFloat","dx","dy","transform","onend","textEl","querySelector","textContent","Math","sqrt","pow","x0","y0","toFixed"],"mappings":"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","file":"built.js","sourcesContent":["/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givan/VvvebJs\r\n*/\r\n\r\n\r\n// Simple JavaScript Templating\r\n// John Resig - https://johnresig.com/ - MIT Licensed\r\n(function () {\r\n\tvar cache = {};\r\n\r\n\tthis.tmpl = function tmpl(str, data) {\r\n\t\t// Figure out if we're getting a template, or if we need to\r\n\t\t// load the template - and be sure to cache the result.\r\n\t\tvar fn = /^[-a-zA-Z0-9]+$/.test(str) ?\r\n\t\t\tcache[str] = cache[str] ||\r\n\t\t\ttmpl(document.getElementById(str).innerHTML) :\r\n\r\n\t\t\t// Generate a reusable function that will serve as a template\r\n\t\t\t// generator (and which will be cached).\r\n\t\t\tnew Function(\"obj\",\r\n\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n\r\n\t\t\t\t// Introduce the data as local variables using with(){}\r\n\t\t\t\t\"with(obj){p.push('\" +\r\n\r\n\t\t\t\t// Convert the template into pure JavaScript\r\n\t\t\t\tstr\r\n\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\r\n\t\t\t\t\t.split(\"{%\").join(\"\\t\")\r\n\t\t\t\t\t.replace(/((^|%})[^\\t]*)'/g, \"$1\\r\")\r\n\t\t\t\t\t.replace(/\\t=(.*?)%}/g, \"',$1,'\")\r\n\t\t\t\t\t.split(\"\\t\").join(\"');\")\r\n\t\t\t\t\t.split(\"%}\").join(\"p.push('\")\r\n\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\")\r\n\t\t\t\t+ \"');}return p.join('');\");\r\n\t\t// Provide some basic currying to the user\r\n\t\treturn data ? fn(data) : fn;\r\n\t};\r\n})();\r\n\r\nvar delay = (function () {\r\n\tvar timer = 0;\r\n\treturn function (callback, ms) {\r\n\t\tclearTimeout(timer);\r\n\t\ttimer = setTimeout(callback, ms);\r\n\t};\r\n})();\r\n\r\nfunction getStyle(el, styleProp) {\r\n\tvalue = \"\";\r\n\t//var el = document.getElementById(el);\r\n\tif (el.style && el.style.length > 0 && el.style[styleProp])//check inline\r\n\t\tvar value = el.style[styleProp];\r\n\telse\r\n\t\tif (el.currentStyle)\t//check defined css\r\n\t\t\tvar value = el.currentStyle[styleProp];\r\n\t\telse if (window.getComputedStyle) {\r\n\t\t\tvar value = document.defaultView.getDefaultComputedStyle ?\r\n\t\t\t\tdocument.defaultView.getDefaultComputedStyle(el, null).getPropertyValue(styleProp) :\r\n\t\t\t\twindow.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n\t\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction downloadAsTextFile(filename, text) {\r\n\tconst element = document.createElement('a');\r\n\telement.setAttribute('href', `data:text/html;charset=utf-8,${encodeURIComponent(text)}`);\r\n\telement.setAttribute('download', filename);\r\n\r\n\telement.style.display = 'none';\r\n\tdocument.body.appendChild(element);\r\n\r\n\telement.click();\r\n\r\n\tdocument.body.removeChild(element);\r\n}\r\n\r\nif (Vvveb === undefined) var Vvveb = {};\r\n\r\nVvveb.defaultComponent = \"_base\";\r\nVvveb.preservePropertySections = true;\r\n\r\nVvveb.baseUrl = document.currentScript ? document.currentScript.src.replace(/[^\\/]*?\\.js$/, '') : '';\r\n\r\nVvveb.ComponentsGroup = {};\r\n\r\nVvveb.Components = {\r\n\r\n\t_components: {},\r\n\r\n\t_nodesLookup: {},\r\n\r\n\t_attributesLookup: {},\r\n\r\n\t_classesLookup: {},\r\n\r\n\t_classesRegexLookup: {},\r\n\r\n\tinit: function (url) {\r\n\t},\r\n\r\n\tget: function (type) {\r\n\t\treturn this._components[type];\r\n\t},\r\n\r\n\tadd: function (type, data) {\r\n\t\tdata.type = type;\r\n\r\n\t\tthis._components[type] = data;\r\n\r\n\t\tif (data.nodes) {\r\n\t\t\tfor (var i in data.nodes) {\r\n\t\t\t\tthis._nodesLookup[data.nodes[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.attributes) {\r\n\t\t\tif (data.attributes.constructor === Array) {\r\n\t\t\t\tfor (var i in data.attributes) {\r\n\t\t\t\t\tthis._attributesLookup[data.attributes[i]] = data;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i in data.attributes) {\r\n\t\t\t\t\tif (typeof this._attributesLookup[i] === 'undefined') {\r\n\t\t\t\t\t\tthis._attributesLookup[i] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof this._attributesLookup[i][data.attributes[i]] === 'undefined') {\r\n\t\t\t\t\t\tthis._attributesLookup[i][data.attributes[i]] = {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._attributesLookup[i][data.attributes[i]] = data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.classes) {\r\n\t\t\tfor (var i in data.classes) {\r\n\t\t\t\tthis._classesLookup[data.classes[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.classesRegex) {\r\n\t\t\tfor (var i in data.classesRegex) {\r\n\t\t\t\tthis._classesRegexLookup[data.classesRegex[i]] = data;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\textend: function (inheritType, type, data) {\r\n\r\n\t\tnewData = data;\r\n\r\n\t\tif (inheritData = this._components[inheritType]) {\r\n\t\t\tnewData = $.extend(true, {}, inheritData, data);\r\n\t\t\tnewData.properties = $.merge($.merge([], inheritData.properties ? inheritData.properties : []), data.properties ? data.properties : []);\r\n\t\t}\r\n\r\n\t\t//sort by order\r\n\t\tnewData.properties.sort(function (a, b) {\r\n\t\t\tif (typeof a.sort === \"undefined\") a.sort = 0;\r\n\t\t\tif (typeof b.sort === \"undefined\") b.sort = 0;\r\n\r\n\t\t\tif (a.sort < b.sort)\r\n\t\t\t\treturn -1;\r\n\t\t\tif (a.sort > b.sort)\r\n\t\t\t\treturn 1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\r\n\t\tthis.add(type, newData);\r\n\t},\r\n\r\n\r\n\tmatchNode: function (node) {\r\n\r\n\t\tif (node.attributes.length) {\r\n\t\t\t//search for attributes\r\n\t\t\tfor (var i in node.attributes) {\r\n\t\t\t\tattr = node.attributes[i].name;\r\n\t\t\t\tvalue = node.attributes[i].value;\r\n\r\n\t\t\t\tif (attr in this._attributesLookup) {\r\n\t\t\t\t\tcomponent = this._attributesLookup[attr];\r\n\r\n\t\t\t\t\t//currently we check that is not a component by looking at name attribute\r\n\t\t\t\t\t//if we have a collection of objects it means that attribute value must be checked\r\n\t\t\t\t\tif (typeof component[\"name\"] === \"undefined\") {\r\n\t\t\t\t\t\tif (value in component) {\r\n\t\t\t\t\t\t\treturn component[value];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\treturn component;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i in node.attributes) {\r\n\t\t\t\tattr = node.attributes[i].name;\r\n\t\t\t\tvalue = node.attributes[i].value;\r\n\r\n\t\t\t\t//check for node classes\r\n\t\t\t\tif (attr == \"class\") {\r\n\t\t\t\t\tclasses = value.split(\" \");\r\n\r\n\t\t\t\t\tfor (j in classes) {\r\n\t\t\t\t\t\tif (classes[j] in this._classesLookup)\r\n\t\t\t\t\t\t\treturn this._classesLookup[classes[j]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (regex in this._classesRegexLookup) {\r\n\t\t\t\t\t\tregexObj = new RegExp(regex);\r\n\t\t\t\t\t\tif (regexObj.exec(value)) {\r\n\t\t\t\t\t\t\treturn this._classesRegexLookup[regex];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttagName = node.tagName.toLowerCase();\r\n\t\tif (tagName in this._nodesLookup) return this._nodesLookup[tagName];\r\n\r\n\t\t//return false;\r\n\t\treturn this.get(Vvveb.defaultComponent);\r\n\t},\r\n\r\n\trender: function (type) {\r\n\r\n\t\tcomponent = this._components[type];\r\n\r\n\t\trightPanel = jQuery(\"#right-panel #component-properties\");\r\n\t\tsection = rightPanel.find('.section[data-section=\"default\"]');\r\n\r\n\t\tif (!(Vvveb.preservePropertySections && section.length)) {\r\n\t\t\trightPanel.html('').append(tmpl(\"vvveb-input-sectioninput\", { key: \"default\", header: component.name }));\r\n\t\t\tsection = rightPanel.find(\".section\");\r\n\t\t}\r\n\r\n\t\trightPanel.find('[data-header=\"default\"] span').html(component.name);\r\n\t\tsection.html(\"\")\r\n\r\n\t\tif (component.beforeInit) component.beforeInit(Vvveb.Builder.selectedEl.get(0));\r\n\r\n\t\tfn = function (component, property) {\r\n\t\t\treturn property.input.on('propertyChange', function (event, value, input) {\r\n\t\t\t\telement = Vvveb.Builder.selectedEl;\r\n\t\t\t\tif (property.child) element = element.find(property.child);\r\n\t\t\t\tif (property.parent) element = element.parent(property.parent);\r\n\r\n\t\t\t\tif (property.onChange) {\r\n\t\t\t\t\telement = property.onChange(element, value, input, component);\r\n\t\t\t\t} else if (property.htmlAttr) {\r\n\t\t\t\t\toldValue = element.attr(property.htmlAttr);\r\n\r\n\t\t\t\t\tif (property.htmlAttr == \"class\" && property.validValues) {\r\n\t\t\t\t\t\telement.removeClass(property.validValues.join(\" \"));\r\n\t\t\t\t\t\telement = element.addClass(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (property.htmlAttr == \"style\") {\r\n\t\t\t\t\t\telement = element.css(property.key, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\telement = element.attr(property.htmlAttr, value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\t\t\ttype: 'attributes',\r\n\t\t\t\t\t\ttarget: element.get(0),\r\n\t\t\t\t\t\tattributeName: property.htmlAttr,\r\n\t\t\t\t\t\toldValue: oldValue,\r\n\t\t\t\t\t\tnewValue: element.attr(property.htmlAttr)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (component.onChange) {\r\n\t\t\t\t\telement = component.onChange(element, property, value, input);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!property.child && !property.parent) Vvveb.Builder.selectNode(element);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tnodeElement = Vvveb.Builder.selectedEl;\r\n\r\n\t\tfor (var i in component.properties) {\r\n\t\t\tproperty = component.properties[i];\r\n\r\n\t\t\tif (property.beforeInit) property.beforeInit(element.get(0))\r\n\r\n\t\t\telement = nodeElement;\r\n\t\t\tif (property.child) element = element.find(property.child);\r\n\r\n\t\t\tif (property.data) {\r\n\t\t\t\tproperty.data[\"key\"] = property.key;\r\n\t\t\t} else {\r\n\t\t\t\tproperty.data = { \"key\": property.key };\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof property.group === 'undefined') property.group = null;\r\n\r\n\t\t\tproperty.input = property.inputtype.init(property.data);\r\n\r\n\t\t\tif (property.init) {\r\n\t\t\t\tproperty.inputtype.setValue(property.init(element.get(0)));\r\n\t\t\t} else if (property.htmlAttr) {\r\n\t\t\t\tif (property.htmlAttr == \"style\") {\r\n\t\t\t\t\t//value = element.css(property.key);//jquery css returns computed style\r\n\t\t\t\t\tvalue = getStyle(element.get(0), property.key);//getStyle returns declared style\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = element.attr(property.htmlAttr);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if attribute is class check if one of valid values is included as class to set the select\r\n\t\t\t\tif (value && property.htmlAttr == \"class\" && property.validValues) {\r\n\t\t\t\t\tvalue = value.split(\" \").filter(function (el) {\r\n\t\t\t\t\t\treturn property.validValues.indexOf(el) != -1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tproperty.inputtype.setValue(value);\r\n\t\t\t}\r\n\r\n\t\t\tfn(component, property);\r\n\r\n\t\t\tif (property.inputtype == SectionInput) {\r\n\t\t\t\tsection = rightPanel.find('.section[data-section=\"' + property.key + '\"]');\r\n\r\n\t\t\t\tif (Vvveb.preservePropertySections && section.length) {\r\n\t\t\t\t\tsection.html(\"\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\trightPanel.append(property.input);\r\n\t\t\t\t\tsection = rightPanel.find('.section[data-section=\"' + property.key + '\"]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trow = $(tmpl('vvveb-property', property));\r\n\t\t\t\trow.find('.input').append(property.input);\r\n\t\t\t\tsection.append(row);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (component.init) component.init(Vvveb.Builder.selectedEl.get(0));\r\n\t}\r\n};\r\n\r\n\r\n\r\nVvveb.WysiwygEditor = {\r\n\r\n\tisActive: false,\r\n\toldValue: '',\r\n\tdoc: false,\r\n\r\n\tinit: function (doc) {\r\n\t\tthis.doc = doc;\r\n\r\n\t\t$(\"#bold-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('bold', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#italic-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('italic', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#underline-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('underline', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#strike-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('strikeThrough', false, null);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#link-btn\").on(\"click\", function (e) {\r\n\t\t\tdoc.execCommand('createLink', false, \"#\");\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t},\r\n\r\n\tundo: function (element) {\r\n\t\tthis.doc.execCommand('undo', false, null);\r\n\t},\r\n\r\n\tredo: function (element) {\r\n\t\tthis.doc.execCommand('redo', false, null);\r\n\t},\r\n\r\n\tedit: function (element) {\r\n\t\telement.attr({ 'contenteditable': true, 'spellcheckker': false });\r\n\t\t$(\"#wysiwyg-editor\").show();\r\n\r\n\t\tthis.element = element;\r\n\t\tthis.isActive = true;\r\n\t\tthis.oldValue = element.html();\r\n\t},\r\n\r\n\tdestroy: function (element) {\r\n\t\telement.removeAttr('contenteditable spellcheckker');\r\n\t\t$(\"#wysiwyg-editor\").hide();\r\n\t\tthis.isActive = false;\r\n\r\n\r\n\t\tnode = this.element.get(0);\r\n\t\tVvveb.Undo.addMutation({\r\n\t\t\ttype: 'characterData',\r\n\t\t\ttarget: node,\r\n\t\t\toldValue: this.oldValue,\r\n\t\t\tnewValue: node.innerHTML\r\n\t\t});\r\n\t}\r\n}\r\n\r\nVvveb.Builder = {\r\n\r\n\tdragMoveMutation: false,\r\n\r\n\tinit: function (url, callback) {\r\n\r\n\t\tself = this;\r\n\r\n\t\tself.loadControlGroups();\r\n\r\n\t\tself.selectedEl = null;\r\n\t\tself.highlightEl = null;\r\n\t\tself.initCallback = callback;\r\n\r\n\t\tself.documentFrame = $(\"#iframe-wrapper > iframe\");\r\n\t\tself.canvas = $(\"#canvas\");\r\n\r\n\t\tself._loadIframe(url);\r\n\r\n\t\tself._initDragdrop();\r\n\r\n\t\tself.dragElement = null;\r\n\t},\r\n\r\n\t/* controls */\r\n\tloadControlGroups: function () {\r\n\r\n\t\tcomponentsList = $(\"#components-list\");\r\n\t\tcomponentsList.empty();\r\n\r\n\t\tfor (group in Vvveb.ComponentsGroup) {\r\n\t\t\tcomponentsList.append('<li class=\"header\" data-section=\"' + group + '\"  data-search=\"\"><label class=\"header\" for=\"comphead_' + group + '\">' + group + '  <div class=\"header-arrow\"></div>\\\r\n\t\t\t\t\t\t\t\t   </label><input class=\"header_check\" type=\"checkbox\" checked=\"true\" id=\"comphead_' + group + '\">  <ol></ol></li>');\r\n\r\n\t\t\tcomponentsSubList = componentsList.find('li[data-section=\"' + group + '\"]  ol');\r\n\r\n\t\t\tcomponents = Vvveb.ComponentsGroup[group];\r\n\r\n\t\t\tfor (i in components) {\r\n\t\t\t\tcomponentType = components[i];\r\n\t\t\t\tcomponent = Vvveb.Components.get(componentType);\r\n\r\n\t\t\t\tif (component) {\r\n\t\t\t\t\titem = $('<li data-section=\"' + group + '\" data-type=\"' + componentType + '\" data-search=\"' + component.name.toLowerCase() + '\"><a href=\"#\">' + component.name + \"</a></li>\");\r\n\r\n\t\t\t\t\tif (component.image) {\r\n\r\n\t\t\t\t\t\titem.css({\r\n\t\t\t\t\t\t\tbackgroundImage: \"url(\" + 'libs/builder/' + component.image + \")\",\r\n\t\t\t\t\t\t\tbackgroundRepeat: \"no-repeat\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcomponentsSubList.append(item)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tloadUrl: function (url) {\r\n\t\tjQuery(\"#select-box\").hide();\r\n\t\tself.iframe.src = url;\r\n\t},\r\n\r\n\t/* iframe */\r\n\t_loadIframe: function (url) {\r\n\r\n\t\tself.iframe = this.documentFrame.get(0);\r\n\t\tself.iframe.src = url;\r\n\r\n\t\treturn this.documentFrame.on(\"load\", function () {\r\n\r\n\t\t\twindow.FrameWindow = self.iframe.contentWindow;\r\n\t\t\twindow.FrameDocument = self.iframe.contentWindow.document;\r\n\r\n\t\t\tVvveb.WysiwygEditor.init(window.FrameDocument);\r\n\t\t\tif (self.initCallback) self.initCallback();\r\n\r\n\t\t\treturn self._frameLoaded();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t_frameLoaded: function () {\r\n\r\n\t\tself.frameDoc = $(window.FrameDocument);\r\n\t\tself.frameHtml = $(window.FrameDocument).find(\"html\");\r\n\t\tself.frameBody = $(window.FrameDocument).find(\"body\");\r\n\r\n\t\tthis._initHightlight();\r\n\t},\r\n\r\n\t_getElementType: function (el) {\r\n\r\n\t\t//search for component attribute\r\n\t\tcomponentName = '';\r\n\r\n\t\tif (el.attributes)\r\n\t\t\tfor (var j = 0; j < el.attributes.length; j++) {\r\n\r\n\t\t\t\tif (el.attributes[j].nodeName.indexOf('data-component') > -1) {\r\n\t\t\t\t\tcomponentName = el.attributes[j].nodeName.replace('data-component-', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (componentName != '') return componentName;\r\n\r\n\t\tif (el.attributes)\r\n\t\t\tfor (var j = 0; j < el.attributes.length; j++) {\r\n\r\n\t\t\t\tif (el.attributes[j].nodeName.indexOf('data-component') > -1) {\r\n\t\t\t\t\tcomponentName = el.attributes[j].nodeName.replace('data-component-', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (componentName != '') return componentName;\r\n\t\t//if (className) return componentName;\r\n\t\treturn el.tagName;\r\n\t},\r\n\r\n\tloadNodeComponent: function (node) {\r\n\t\tdata = Vvveb.Components.matchNode(node);\r\n\t\tif (data) Vvveb.Components.render(data.type);\r\n\r\n\t},\r\n\r\n\tselectNode: function (node = false) {\r\n\r\n\t\tif (!node) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (self.texteditEl && self.selectedEl.get(0) != node) {\r\n\t\t\tVvveb.WysiwygEditor.destroy(self.texteditEl);\r\n\t\t\tjQuery(\"#select-box\").removeClass(\"text-edit\").find(\"#select-actions\").show();\r\n\t\t\tself.texteditEl = null;\r\n\t\t}\r\n\r\n\t\tself.selectedEl = target = jQuery(node);\r\n\t\toffset = target.offset();\r\n\r\n\r\n\t\tjQuery(\"#select-box\").css(\r\n\t\t\t{\r\n\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\"width\": target.outerWidth(),\r\n\t\t\t\t\"height\": target.outerHeight(),\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t});\r\n\r\n\t\tjQuery(\"#highlight-name\").html(self._getElementType(node));\r\n\r\n\t},\r\n\r\n\t/* iframe highlight */\r\n\t_initHightlight: function () {\r\n\r\n\r\n\t\tmoveEvent = { target: null, };\r\n\r\n\t\tthis.frameBody.on(\"mousemove touchmove\", function (event) {\r\n\t\t\t//delay for half a second if dragging over same element\r\n\t\t\tif (event.target == moveEvent.target && ((event.timeStamp - moveEvent.timeStamp) < 500)) return;\r\n\t\t\tif (event.target) {\r\n\t\t\t\tmoveEvent = event;\r\n\r\n\t\t\t\tself.highlightEl = target = jQuery(event.target);\r\n\t\t\t\toffset = target.offset();\r\n\t\t\t\twidth = target.outerWidth();\r\n\t\t\t\theight = target.outerHeight();\r\n\r\n\t\t\t\tif (self.isDragging) {\r\n\t\t\t\t\t// if (self.iconDrag) self.iconDrag.remove();\r\n\t\t\t\t\tconsole.log('*************************************');\r\n\t\t\t\t\tparent = self.highlightEl;\r\n\t\t\t\t\tparentOffset = self.dragElement.offset();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tself.dragElement.css({\r\n\t\t\t\t\t\t\tdisplay: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (event.originalEvent && (offset.left > (event.originalEvent.x - 10))) {\r\n\t\t\t\t\t\t\tif (offset.top > (event.originalEvent.y - 10)) {\r\n\t\t\t\t\t\t\t\tparent.before(self.dragElement);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tparent.prepend(self.dragElement);\r\n\t\t\t\t\t\t\t\tself.dragElement.prependTo(parent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (event.originalEvent && offset.top > ((event.originalEvent.y - 10))) {\r\n\t\t\t\t\t\t\t\tparent.before(self.dragElement);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tparent.append(self.dragElement);\r\n\t\t\t\t\t\t\t\tself.dragElement.appendTo(parent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tconsole.log(`translate(${event.pageX}px, ${event.pageY}px)`);\r\n\r\n\t\t\t\t\tself.isDragging == false;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tjQuery(\"#highlight-box\").css(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\t\"width\": width,\r\n\t\t\t\t\t\t\t\"height\": height,\r\n\t\t\t\t\t\t\t\"display\": event.target.hasAttribute('contenteditable') ? \"none\" : \"block\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tjQuery(\"#highlight-name\").html(self._getElementType(event.target));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"mouseup touchend\", function (event) {\r\n\t\t\tif (self.isDragging) {\r\n\t\t\t\tself.isDragging = false;\r\n\r\n\t\t\t\tif (component.dragHtml) //if dragHtml is set for dragging then set real component html\r\n\t\t\t\t{\r\n\t\t\t\t\tnewElement = $(component.html);\r\n\t\t\t\t\tself.dragElement.replaceWith(newElement);\r\n\t\t\t\t\tself.dragElement = newElement;\r\n\t\t\t\t}\r\n\t\t\t\tif (component.afterDrop) self.dragElement = component.afterDrop(self.dragElement);\r\n\r\n\t\t\t\tnode = self.dragElement.get(0);\r\n\t\t\t\tself.selectNode(node);\r\n\t\t\t\tself.loadNodeComponent(node);\r\n\r\n\t\t\t\tif (self.dragMoveMutation === false) {\r\n\t\t\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\t\t\ttype: 'childList',\r\n\t\t\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\t\t\taddedNodes: [node],\r\n\t\t\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.dragMoveMutation.newParent = node.parentNode;\r\n\t\t\t\t\tself.dragMoveMutation.newNextSibling = node.nextSibling;\r\n\r\n\t\t\t\t\tVvveb.Undo.addMutation(self.dragMoveMutation);\r\n\t\t\t\t\tself.dragMoveMutation = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"dblclick\", function (event) {\r\n\r\n\t\t\tself.texteditEl = target = jQuery(event.target);\r\n\r\n\t\t\tVvveb.WysiwygEditor.edit(self.texteditEl);\r\n\r\n\t\t\tself.texteditEl.attr({ 'contenteditable': true, 'spellcheckker': false });\r\n\r\n\t\t\tself.texteditEl.on(\"blur keyup paste input\", function (event) {\r\n\r\n\t\t\t\tjQuery(\"#select-box\").css({\r\n\t\t\t\t\t\"width\": self.texteditEl.outerWidth(),\r\n\t\t\t\t\t\"height\": self.texteditEl.outerHeight()\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tjQuery(\"#select-box\").addClass(\"text-edit\").find(\"#select-actions\").hide();\r\n\t\t\tjQuery(\"#highlight-box\").hide();\r\n\t\t});\r\n\r\n\r\n\t\tthis.frameBody.on(\"click\", function (event) {\r\n\t\t\tif (event.target) {\r\n\t\t\t\tself.selectNode(event.target);\r\n\t\t\t\tself.loadNodeComponent(event.target);\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t$(\"#drag-box\").on(\"mousedown\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\t\t\tself.dragElement = self.selectedEl;\r\n\t\t\tself.isDragging = true;\r\n\r\n\t\t\tnode = self.dragElement.get(0);\r\n\r\n\r\n\t\t\tself.dragMoveMutation = {\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: node.parentNode,\r\n\t\t\t\toldNextSibling: node.nextSibling\r\n\t\t\t};\r\n\r\n\t\t\t//self.selectNode(false);\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#down-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\t\t\toldParent = node.parentNode;\r\n\t\t\toldNextSibling = node.nextSibling;\r\n\r\n\t\t\tnext = self.selectedEl.next();\r\n\r\n\t\t\tif (next.length > 0) {\r\n\t\t\t\tnext.after(self.selectedEl);\r\n\t\t\t} else {\r\n\t\t\t\tself.selectedEl.parent().after(self.selectedEl);\r\n\t\t\t}\r\n\r\n\t\t\tnewParent = node.parentNode;\r\n\t\t\tnewNextSibling = node.nextSibling;\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: oldParent,\r\n\t\t\t\tnewParent: newParent,\r\n\t\t\t\toldNextSibling: oldNextSibling,\r\n\t\t\t\tnewNextSibling: newNextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#up-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\t\t\toldParent = node.parentNode;\r\n\t\t\toldNextSibling = node.nextSibling;\r\n\r\n\t\t\tnext = self.selectedEl.prev();\r\n\r\n\t\t\tif (next.length > 0) {\r\n\t\t\t\tnext.before(self.selectedEl);\r\n\t\t\t} else {\r\n\t\t\t\tself.selectedEl.parent().before(self.selectedEl);\r\n\t\t\t}\r\n\r\n\t\t\tnewParent = node.parentNode;\r\n\t\t\tnewNextSibling = node.nextSibling;\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'move',\r\n\t\t\t\ttarget: node,\r\n\t\t\t\toldParent: oldParent,\r\n\t\t\t\tnewParent: newParent,\r\n\t\t\t\toldNextSibling: oldNextSibling,\r\n\t\t\t\tnewNextSibling: newNextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#clone-box\").on(\"click\", function (event) {\r\n\t\t\tclone = self.selectedEl.clone();\r\n\r\n\t\t\tself.selectedEl.after(clone);\r\n\r\n\t\t\tself.selectedEl = clone.click();\r\n\r\n\t\t\tnode = clone.get(0);\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'childList',\r\n\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\taddedNodes: [node],\r\n\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t});\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#parent-box\").on(\"click\", function (event) {\r\n\r\n\t\t\tnode = self.selectedEl.parent().get(0);\r\n\r\n\t\t\tself.selectNode(node);\r\n\t\t\tself.loadNodeComponent(node);\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$(\"#delete-box\").on(\"click\", function (event) {\r\n\t\t\tjQuery(\"#select-box\").hide();\r\n\r\n\t\t\tnode = self.selectedEl.get(0);\r\n\r\n\t\t\tVvveb.Undo.addMutation({\r\n\t\t\t\ttype: 'childList',\r\n\t\t\t\ttarget: node.parentNode,\r\n\t\t\t\tremovedNodes: [node],\r\n\t\t\t\tnextSibling: node.nextSibling\r\n\t\t\t});\r\n\r\n\t\t\tself.selectedEl.remove();\r\n\r\n\t\t\tevent.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tjQuery(window.FrameWindow).on(\"scroll resize\", function (event) {\r\n\r\n\t\t\tif (self.selectedEl) {\r\n\t\t\t\toffset = self.selectedEl.offset();\r\n\r\n\t\t\t\tjQuery(\"#select-box\").css(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\"width\": self.selectedEl.outerWidth(),\r\n\t\t\t\t\t\t\"height\": self.selectedEl.outerHeight(),\r\n\t\t\t\t\t\t//\"display\": \"block\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (self.highlightEl) {\r\n\t\t\t\toffset = self.highlightEl.offset();\r\n\r\n\t\t\t\tjQuery(\"#highlight-box\").css(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"top\": offset.top - self.frameDoc.scrollTop(),\r\n\t\t\t\t\t\t\"left\": offset.left - self.frameDoc.scrollLeft(),\r\n\t\t\t\t\t\t\"width\": self.highlightEl.outerWidth(),\r\n\t\t\t\t\t\t\"height\": self.highlightEl.outerHeight(),\r\n\t\t\t\t\t\t//\"display\": \"block\"\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t/* drag and drop */\r\n\t_initDragdrop: function () {\r\n\r\n\t\tself.isDragging = false;\r\n\t\tcomponent = {};\r\n\t\t$('#components ul > li > ol > li').on(\"mousedown touchstart\", function (event) {\r\n\r\n\t\t\t$this = jQuery(this);\r\n\r\n\t\t\t// $(\"#component-clone\").remove();\r\n\r\n\r\n\t\t\tcomponent = Vvveb.Components.get($this.data(\"type\"));\r\n\r\n\t\t\tif (component.dragHtml) {\r\n\t\t\t\thtml = component.dragHtml;\r\n\t\t\t} else {\r\n\t\t\t\thtml = component.html;\r\n\t\t\t}\r\n\r\n\t\t\tself.dragElement = $(html);\r\n\r\n\t\t\tif (component.dragStart) self.dragElement = component.dragStart(self.dragElement);\r\n\r\n\t\t\tself.isDragging = true;\r\n\t\t\t// self.iconDrag = $this.clone().attr(\"id\", \"component-clone\").css('position', 'absolute');\r\n\t\t\t// $('body').append(self.iconDrag);\r\n\t\t\tself.iconDrag = true;\r\n\t\t});\r\n\r\n\r\n\t\t$('body').on('mouseup touchend', function (event) {\r\n\t\t\tif (self.iconDrag && self.isDragging == true) {\r\n\t\t\t\tself.isDragging = false;\r\n\t\t\t\t// $(\"#component-clone\").remove();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('body').on('mousemove touchmove', function (event) {\r\n\t\t\tconsole.log('what is going on!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');\r\n\t\t\tif (self.iconDrag && self.isDragging == true) {\r\n\t\t\t\t// self.iconDrag.css({ 'left': event.originalEvent.x - 60, 'top': event.originalEvent.y - 30 });\r\n\r\n\t\t\t\telementMouseIsOver = document.elementFromPoint(event.clientX - 60, event.clientY - 40);\r\n\r\n\t\t\t\t//if drag elements hovers over iframe switch to iframe mouseover handler\t\r\n\t\t\t\tconsole.log('@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@');\r\n\t\t\t\tconsole.log(elementMouseIsOver, elementMouseIsOver.tagName);\r\n\t\t\t\tif (elementMouseIsOver && elementMouseIsOver.tagName == 'IFRAME') {\r\n\t\t\t\t\tself.frameBody.trigger(\"mousemove\", event);\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tself.selectNode(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#components ul > ol > li > li').on(\"mouseup touchend\", function (event) {\r\n\t\t\tself.isDragging = false;\r\n\t\t\t// $(\"#component-clone\").remove();\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tgetBeautifiedHtml() {\r\n\t\t/*\r\n\t\t-I, --indent-inner-html            Indent <head> and <body> sections. Default is false.\r\n\t\t-U, --unformatted                  List of tags (defaults to inline) that should not be reformatted\r\n\t\t\t\t\t\t\t\t\t\t   use empty array to denote that no tags should not be reformatted\r\n\t\t */\r\n\t\treturn html_beautify(this.getHtml(), {\r\n\t\t\tindent_inner_html: true,\r\n\t\t\tunformatted: []\r\n\t\t});\r\n\t},\r\n\r\n\tgetHtml: function () {\r\n\t\tdoc = window.FrameDocument;\r\n\r\n\t\treturn \"<!DOCTYPE \"\r\n\t\t\t+ doc.doctype.name\r\n\t\t\t+ (doc.doctype.publicId ? ' PUBLIC \"' + doc.doctype.publicId + '\"' : '')\r\n\t\t\t+ (!doc.doctype.publicId && doc.doctype.systemId ? ' SYSTEM' : '')\r\n\t\t\t+ (doc.doctype.systemId ? ' \"' + doc.doctype.systemId + '\"' : '')\r\n\t\t\t+ \">\\n\"\r\n\t\t\t+ \"<html>\"\r\n\t\t\t+ doc.documentElement.innerHTML\r\n\t\t\t+ \"\\n</html>\";\r\n\t},\r\n\r\n\tsetHtml: function (html) {\r\n\t\t//update only body to avoid breaking iframe css/js relative paths\r\n\t\tstart = html.indexOf(\"<body\");\r\n\t\tend = html.indexOf(\"</body\");\r\n\r\n\t\tif (start >= 0 && end >= 0) {\r\n\t\t\tbody = html.slice(html.indexOf(\">\", start) + 1, end);\r\n\t\t} else {\r\n\t\t\tbody = html\r\n\t\t}\r\n\r\n\t\t//self.frameBody.html(body);\r\n\t\twindow.FrameDocument.body.innerHTML = body;\r\n\r\n\t\t//below methods brake document relative css and js paths\r\n\t\t//return self.iframe.outerHTML = html;\r\n\t\t//return self.documentFrame.html(html);\r\n\t\t//return self.documentFrame.attr(\"srcdoc\", html);\r\n\t}\r\n};\r\n\r\nVvveb.CodeEditor = {\r\n\r\n\tisActive: false,\r\n\toldValue: '',\r\n\tdoc: false,\r\n\r\n\tinit: function (doc) {\r\n\t\t$(\"#vvveb-code-editor textarea\").val(Vvveb.Builder.getBeautifiedHtml());\r\n\r\n\t\t$(\"#vvveb-code-editor textarea\").keyup(function () {\r\n\t\t\tdelay(Vvveb.Builder.setHtml(this.value), 1000);\r\n\t\t});\r\n\r\n\t\t//load code on document changes\r\n\t\tVvveb.Builder.frameBody.on(\"vvveb.undo.add vvveb.undo.restore\", function (e) { Vvveb.CodeEditor.setValue(); });\r\n\t\t//load code when a new url is loaded\r\n\t\tVvveb.Builder.documentFrame.on(\"load\", function (e) { Vvveb.CodeEditor.setValue(); });\r\n\r\n\t\tthis.isActive = true;\r\n\t},\r\n\r\n\tsetValue: function (value) {\r\n\t\tif (this.isActive) {\r\n\t\t\t$(\"#vvveb-code-editor textarea\").val(Vvveb.Builder.getBeautifiedHtml());\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function (element) {\r\n\t\t//this.isActive = false;\r\n\t},\r\n\r\n\ttoggle: function () {\r\n\t\tif (this.isActive != true) {\r\n\t\t\tthis.isActive = true;\r\n\t\t\treturn this.init();\r\n\t\t}\r\n\t\tthis.isActive = false;\r\n\t\tthis.destroy();\r\n\t}\r\n}\r\n\r\nVvveb.Gui = {\r\n\r\n\tinit: function () {\r\n\t\t$(\"[data-vvveb-action]\").each(function () {\r\n\t\t\ton = \"click\";\r\n\t\t\tif (this.dataset.vvvebOn) on = this.dataset.vvvebOn;\r\n\r\n\t\t\t$(this).on(on, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\tif (this.dataset.vvvebShortcut) {\r\n\t\t\t\t$(document).bind('keydown', this.dataset.vvvebShortcut, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\t\t$(window.FrameDocument, window.FrameWindow).bind('keydown', this.dataset.vvvebShortcut, Vvveb.Gui[this.dataset.vvvebAction]);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tundo: function () {\r\n\t\tif (Vvveb.WysiwygEditor.isActive) {\r\n\t\t\tVvveb.WysiwygEditor.undo();\r\n\t\t} else {\r\n\t\t\tVvveb.Undo.undo();\r\n\t\t}\r\n\t\tVvveb.Builder.selectNode();\r\n\t},\r\n\r\n\tredo: function () {\r\n\t\tif (Vvveb.WysiwygEditor.isActive) {\r\n\t\t\tVvveb.WysiwygEditor.redo();\r\n\t\t} else {\r\n\t\t\tVvveb.Undo.redo();\r\n\t\t}\r\n\t\tVvveb.Builder.selectNode();\r\n\t},\r\n\r\n\tcheck: function () {\r\n\t\t$('#textarea-modal textarea').val(Vvveb.Builder.getBeautifiedHtml());\r\n\t\t$('#textarea-modal').modal();\r\n\t},\r\n\r\n\tviewport: function () {\r\n\t\t$(\"#canvas\").attr(\"class\", this.dataset.view);\r\n\t},\r\n\r\n\ttoggleEditor: function () {\r\n\t\t$(\"#vvveb-builder\").toggleClass(\"bottom-panel-expand\");\r\n\t\tVvveb.CodeEditor.toggle();\r\n\t},\r\n\r\n\tdownload() {\r\n\t\tdownloadAsTextFile('index', Vvveb.Builder.getBeautifiedHtml());\r\n\t},\r\n\r\n\tpreview: function () {\r\n\t\t$(\"#iframe-layer\").toggle();\r\n\t\t$(\"#vvveb-builder\").toggleClass(\"preview\");\r\n\t},\r\n\r\n\tfullscreen: function () {\r\n\t\tlaunchFullScreen(document); // the whole page\r\n\t},\r\n\r\n\tcomponentSearch: function () {\r\n\t\tsearchText = this.value;\r\n\r\n\t\t$(\"#components-list li ol li\").each(function () {\r\n\t\t\t$this = $(this);\r\n\r\n\t\t\t$this.hide();\r\n\t\t\tif ($this.data(\"search\").indexOf(searchText) > -1) $this.show();\r\n\t\t});\r\n\t},\r\n\r\n\tclearComponentSearch: function () {\r\n\t\t$(\"#component-search\").val(\"\").keyup();\r\n\t}\r\n}\r\n\r\nVvveb.FileManager = {\r\n\ttree: false,\r\n\tpages: {},\r\n\r\n\tinit: function () {\r\n\t\tthis.tree = $(\"#filemanager .tree > ol\").html(\"\");\r\n\r\n\t\t$(this.tree).on(\"click\", \"li[data-page] span\", function (e) {\r\n\r\n\t\t\tVvveb.FileManager.loadPage($(this).parents(\"li\").data(\"page\"));\r\n\t\t\treturn false;\r\n\t\t})\r\n\t},\r\n\r\n\taddPage: function (name, title, url) {\r\n\r\n\t\tthis.pages[name] = { title: title, url: url };\r\n\r\n\t\tthis.tree.append(\r\n\t\t\ttmpl(\"vvveb-filemanager-page\", { name: name, title: title, url: url }));\r\n\t},\r\n\r\n\taddPages: function (pages) {\r\n\t\tfor (page in pages) {\r\n\t\t\tthis.addPage(pages[page]['name'], pages[page]['title'], pages[page]['url']);\r\n\t\t}\r\n\t},\r\n\r\n\taddComponent: function (name, url, title, page) {\r\n\t\t$(\"[data-page='\" + page + \"'] > ol\", this.tree).append(\r\n\t\t\ttmpl(\"vvveb-filemanager-component\", { name: name, url: url, title: title }));\r\n\t},\r\n\r\n\tloadPage: function (name) {\r\n\t\t$(\"[data-page]\", this.tree).removeClass(\"active\");\r\n\t\t$(\"[data-page='\" + name + \"']\", this.tree).addClass(\"active\");\r\n\r\n\t\tVvveb.Builder.loadUrl(this.pages[name]['url']);\r\n\t},\r\n\r\n}\r\n\r\n// Toggle fullscreen\r\nfunction launchFullScreen(document) {\r\n\tif (document.documentElement.requestFullScreen) {\r\n\r\n\t\tif (document.FullScreenElement)\r\n\t\t\tdocument.exitFullScreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.requestFullScreen();\r\n\t\t//mozilla\t\t\r\n\t} else if (document.documentElement.mozRequestFullScreen) {\r\n\r\n\t\tif (document.mozFullScreenElement)\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.mozRequestFullScreen();\r\n\t\t//webkit\t  \r\n\t} else if (document.documentElement.webkitRequestFullScreen) {\r\n\r\n\t\tif (document.webkitFullscreenElement)\r\n\t\t\tdocument.webkitExitFullscreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.webkitRequestFullScreen();\r\n\t\t//ie\t  \r\n\t} else if (document.documentElement.msRequestFullscreen) {\r\n\r\n\t\tif (document.msFullScreenElement)\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\telse\r\n\t\t\tdocument.documentElement.msRequestFullscreen();\r\n\t}\r\n}\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givanz/VvvebJs\r\n*/\r\n\r\n/*\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\r\n\r\nchildList \t\t\t\tSet to true if additions and removals of the target node's child elements (including text nodes) are to be observed.\r\nattributes \t\t\t\tSet to true if mutations to target's attributes are to be observed.\r\ncharacterData \t\t\tSet to true if mutations to target's data are to be observed.\r\nsubtree \t\t\t\tSet to true if mutations to target and target's descendants are to be observed.\r\nattributeOldValue \t\tSet to true if attributes is set to true and target's attribute value before the mutation needs to be recorded.\r\ncharacterDataOldValue \tSet to true if characterData is set to true and target's data before the mutation needs to be recorded.\r\nattributeFilter \t\tSet to an array of attribute local names (without namespace) if not all attribute mutations need to be observed.\r\n*/\r\n\r\n/*\r\nMutationRecord.type\t\t\t\t \tString \t\tReturns \"attributes\" if the mutation was an attribute mutation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"characterData\" if it was a mutation to a CharacterData node,\r\n\t\t\t\t\t\t\t\t\t\t\t\tand \"childList\" if it was a mutation to the tree of nodes.\r\n\r\nMutationRecord.target \t\t\t\tNode \t\tReturns the node the mutation affected, depending on the MutationRecord.type.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor attributes, it is the element whose attribute changed.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor characterData, it is the CharacterData node.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor childList, it is the node whose children changed.\r\n\r\nMutationRecord.addedNodes \t\t\tNodeList \tReturn the nodes added. Will be an empty NodeList if no nodes were added.\r\nMutationRecord.removedNodes \t\tNodeList \tReturn the nodes removed. Will be an empty NodeList if no nodes were removed.\r\nMutationRecord.previousSibling \t\tNode \t\tReturn the previous sibling of the added or removed nodes, or null.\r\nMutationRecord.nextSibling \t\t\tNode \t\tReturn the next sibling of the added or removed nodes, or null.\r\nMutationRecord.attributeName \t\tString \t\tReturns the local name of the changed attribute, or null.\r\nMutationRecord.attributeNamespace \tString \t\tReturns the namespace of the changed attribute, or null.\r\nMutationRecord.oldValue \t\t\tString \t\tThe return value depends on the MutationRecord.type.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor attributes, it is the value of the changed attribute before the change.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor characterData, it is the data of the changed node before the change.\r\n\t\t\t\t\t\t\t\t\t\t\t\tFor childList, it is null.\r\n*/\r\nVvveb.Undo = {\r\n\r\n\tundos: [],\r\n\tmutations: [],\r\n\tundoIndex: -1,\r\n\tenabled: true,\r\n\t/*\t\t\r\n\tinit: function() {\r\n\t},\r\n\t*/\r\n\taddMutation(mutation) {\r\n\t\t/*\r\n\t\t\tthis.mutations.push(mutation);\r\n\t\t\tthis.undoIndex++;\r\n\t\t*/\r\n\t\tVvveb.Builder.frameBody.trigger(\"vvveb.undo.add\");\r\n\t\tthis.mutations.splice(++this.undoIndex, 0, mutation);\r\n\t},\r\n\r\n\trestore(mutation, undo) {\r\n\r\n\t\tswitch (mutation.type) {\r\n\t\t\tcase 'childList':\r\n\r\n\t\t\t\tif (undo == true) {\r\n\t\t\t\t\taddedNodes = mutation.removedNodes;\r\n\t\t\t\t\tremovedNodes = mutation.addedNodes;\r\n\t\t\t\t} else //redo\r\n\t\t\t\t{\r\n\t\t\t\t\taddedNodes = mutation.addedNodes;\r\n\t\t\t\t\tremovedNodes = mutation.removedNodes;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (addedNodes) for (i in addedNodes) {\r\n\t\t\t\t\tnode = addedNodes[i];\r\n\t\t\t\t\tif (mutation.nextSibling) {\r\n\t\t\t\t\t\tmutation.nextSibling.parentNode.insertBefore(node, mutation.nextSibling);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmutation.target.append(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (removedNodes) for (i in removedNodes) {\r\n\t\t\t\t\tnode = removedNodes[i];\r\n\t\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'move':\r\n\t\t\t\tif (undo == true) {\r\n\t\t\t\t\tparent = mutation.oldParent;\r\n\t\t\t\t\tsibling = mutation.oldNextSibling;\r\n\t\t\t\t} else //redo\r\n\t\t\t\t{\r\n\t\t\t\t\tparent = mutation.newParent;\r\n\t\t\t\t\tsibling = mutation.newNextSibling;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (sibling) {\r\n\t\t\t\t\tsibling.parentNode.insertBefore(mutation.target, sibling);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent.append(node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'characterData':\r\n\t\t\t\tmutation.target.innerHTML = undo ? mutation.oldValue : mutation.newValue;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'attributes':\r\n\t\t\t\tvalue = undo ? mutation.oldValue : mutation.newValue;\r\n\r\n\t\t\t\tif (value || value === false || value === 0)\r\n\t\t\t\t\tmutation.target.setAttribute(mutation.attributeName, value);\r\n\t\t\t\telse\r\n\t\t\t\t\tmutation.target.removeAttribute(mutation.attributeName);\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tVvveb.Builder.frameBody.trigger(\"vvveb.undo.restore\");\r\n\t},\r\n\r\n\tundo() {\r\n\t\tif (this.undoIndex >= 0) {\r\n\t\t\tthis.restore(this.mutations[this.undoIndex--], true);\r\n\t\t}\r\n\t},\r\n\r\n\tredo() {\r\n\t\tif (this.undoIndex < this.mutations.length - 1) {\r\n\t\t\tthis.restore(this.mutations[++this.undoIndex], false);\r\n\t\t}\r\n\t},\r\n\r\n\thasChanges() {\r\n\t\treturn this.mutations.length;\r\n\t},\r\n};\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givanz/VvvebJs\r\n*/\r\n\r\nvar Input = {\r\n\t\r\n\tinit: function(name) {\r\n\t},\r\n\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.value, this]);\r\n\t\t}\r\n\t},\r\n\r\n\trenderTemplate: function(name, data) {\r\n\t\treturn tmpl(\"vvveb-input-\" + name, data);\r\n\t},\r\n\r\n\trender: function(name, data) {\r\n\t\tthis.element = $(this.renderTemplate(name, data));\r\n\t\t\r\n\t\t//bind events\r\n\t\tif (this.events)\r\n\t\tfor (var i in this.events)\r\n\t\t{\r\n\t\t\tevent = this.events[i][0];\r\n\t\t\tfun = this[ this.events[i][1] ];\r\n\t\t\tel = this.events[i][2];\r\n\t\t\r\n\t\t\tthis.element.on(event, el, {element: this.element, input:this}, fun);\r\n\t\t}\r\n\r\n\t\treturn this.element;\r\n\t}\r\n};\r\n\r\nvar TextInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar CheckboxInput = $.extend({}, Input, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.checked, this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"checkboxinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar SelectInput = $.extend({}, Input, {\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"select\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\n\r\nvar LinkInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar RangeInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"rangeinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar NumberInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"numberinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar CssUnitInput = $.extend({}, Input, {\r\n\r\n\tnumber:0,\r\n\tunit:\"px\",\r\n\t\t\r\n\tonChange: function(event) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tinput = event.data.input;\r\n\t\t\tinput[this.name] = this.value;// this.name = unit or number\t\r\n\t\t\t\r\n\t\t\tvalue = \"\";\t\r\n\t\t\tif (input.unit == \"auto\")  \r\n\t\t\t{\r\n\t\t\t\t$(event.data.element).addClass(\"auto\"); \r\n\t\t\t\tvalue = input.unit;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\t$(event.data.element).removeClass(\"auto\"); \r\n\t\t\t\tvalue = input.number + input.unit;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tevent.data.element.trigger('propertyChange', [value, this]);\r\n\t\t}\r\n\t},\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\tthis.number = parseInt(value);\r\n\t\tthis.unit = value.replace(this.number, '');\r\n\t\t\r\n\t\tif (this.unit == \"auto\") $(this.element).addClass(\"auto\");\r\n\r\n\t\t$('input', this.element).val(this.number);\r\n\t\t$('select', this.element).val(this.unit);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"cssunitinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ColorInput = $.extend({}, Input, {\r\n\r\n\t //html5 color input only supports setting values as hex colors even if the picker returns only rgb\r\n\t rgb2hex: function(rgb) {\r\n\t\t \r\n\t\t rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\t\t \r\n\t\t return (rgb && rgb.length === 4) ? \"#\" +\r\n\t\t  (\"0\" + parseInt(rgb[1],10).toString(16)).slice(-2) +\r\n\t\t  (\"0\" + parseInt(rgb[2],10).toString(16)).slice(-2) +\r\n\t\t  (\"0\" + parseInt(rgb[3],10).toString(16)).slice(-2) : rgb;\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(this.rgb2hex(value));\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"colorinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar FileUploadInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\n\r\nvar RadioInput = $.extend({}, Input, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\t\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.value, this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).removeAttr('checked');\r\n\t\tif (value)\r\n\t\t$(\"input[value=\" + value + \"]\", this.element).prop('checked', true);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"radioinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar RadioButtonInput = $.extend({}, RadioInput, {\r\n\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"radiobuttoninput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ToggleInput = $.extend({}, TextInput, {\r\n\r\n\tonChange: function(event, node) {\r\n\t\tif (event.data && event.data.element)\r\n\t\t{\r\n\t\t\tevent.data.element.trigger('propertyChange', [this.checked?this.getAttribute(\"data-value-on\"):this.getAttribute(\"data-value-off\"), this]);\r\n\t\t}\r\n\t},\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"toggle\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ValueTextInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar GridLayoutInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\nvar ProductsInput = $.extend({}, TextInput, {\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t ],\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textinput\", data);\r\n\t},\r\n  }\r\n);\r\n\r\n\r\nvar GridInput = $.extend({}, Input, {\r\n\t\r\n\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\" /*'select'*/],\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"grid\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar TextValueInput = $.extend({}, Input, {\r\n\t\r\n\r\n    events: [\r\n        [\"keyup\", \"onChange\", \"input\"],\r\n\t    [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('input', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"textvalue\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar ButtonInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('button', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"button\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar SectionInput = $.extend({}, Input, {\r\n\r\n    events: [\r\n        [\"click\", \"onChange\", \"button\" /*'select'*/],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\treturn false;\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"sectioninput\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\nvar ListInput = $.extend({}, Input, {\r\n\t\r\n    events: [\r\n        [\"change\", \"onChange\", \"select\"],\r\n\t ],\r\n\t\r\n\r\n\tsetValue: function(value) {\r\n\t\t$('select', this.element).val(value);\r\n\t},\r\n\t\r\n\tinit: function(data) {\r\n\t\treturn this.render(\"listinput\", data);\r\n\t},\r\n\t\r\n  }\r\n);\r\n\r\n/*\r\nCopyright 2017 Ziadin Givan\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\nhttps://github.com/givan/Vvvebjs\r\n*/\r\n\r\nbgcolorClasses = [\"bg-primary\", \"bg-secondary\", \"bg-success\", \"bg-danger\", \"bg-warning\", \"bg-info\", \"bg-light\", \"bg-dark\", \"bg-white\"]\r\n\r\nbgcolorSelectOptions = \r\n[{\r\n\tvalue: \"Default\",\r\n\ttext: \"\"\r\n}, \r\n{\r\n\tvalue: \"bg-primary\",\r\n\ttext: \"Primary\"\r\n}, {\r\n\tvalue: \"bg-secondary\",\r\n\ttext: \"Secondary\"\r\n}, {\r\n\tvalue: \"bg-success\",\r\n\ttext: \"Success\"\r\n}, {\r\n\tvalue: \"bg-danger\",\r\n\ttext: \"Danger\"\r\n}, {\r\n\tvalue: \"bg-warning\",\r\n\ttext: \"Warning\"\r\n}, {\r\n\tvalue: \"bg-info\",\r\n\ttext: \"Info\"\r\n}, {\r\n\tvalue: \"bg-light\",\r\n\ttext: \"Light\"\r\n}, {\r\n\tvalue: \"bg-dark\",\r\n\ttext: \"Dark\"\r\n}, {\r\n\tvalue: \"bg-white\",\r\n\ttext: \"White\"\r\n}];\r\n\r\nfunction changeNodeName(node, newNodeName)\r\n{\r\n\tvar newNode;\r\n\tnewNode = document.createElement(newNodeName);\r\n\tattributes = node.get(0).attributes;\r\n\t\r\n\tfor (i = 0, len = attributes.length; i < len; i++) {\r\n\t\tnewNode.setAttribute(attributes[i].nodeName, attributes[i].nodeValue);\r\n\t}\r\n\r\n\t$(newNode).append($(node).contents());\r\n\t$(node).replaceWith(newNode);\r\n\t\r\n\treturn newNode;\r\n}\r\n\r\nVvveb.ComponentsGroup['Bootstrap 4'] =\r\n[\"html/container\", \"html/gridrow\", \"html/button\", \"html/buttongroup\", \"html/buttontoolbar\", \"html/heading\", \"html/image\", \"html/jumbotron\", \"html/alert\", \"html/card\", \"html/listgroup\", \"html/hr\", \"html/taglabel\", \"html/badge\", \"html/progress\", \"html/navbar\", \"html/breadcrumbs\", \"html/pagination\", \"html/form\", \"html/textinput\", \"html/textareainput\", \"html/selectinput\", \"html/fileinput\", \"html/checkbox\", \"html/radiobutton\", \"html/table\", ];\r\n\r\n\r\nvar base_sort = 100;//start sorting for base component from 100 to allow extended properties to be first\r\n\r\nVvveb.Components.add(\"_base\", {\r\n    name: \"Element\",\r\n\tproperties: [{\r\n        key: \"element_header\",\r\n        inputtype: SectionInput,\r\n        name:false,\r\n        sort:base_sort++,\r\n        data: {header:\"General\"},\r\n    }, {\r\n        name: \"Id\",\r\n        key: \"id\",\r\n        htmlAttr: \"id\",\r\n        sort: base_sort++,\r\n        inline:true,\r\n        col:6,\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Class\",\r\n        key: \"class\",\r\n        htmlAttr: \"class\",\r\n        sort: base_sort++,\r\n        inline:true,\r\n        col:6,\r\n        inputtype: TextInput\r\n    }\r\n   ]\r\n});    \r\n\r\n//display\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [\r\n     {\r\n        key: \"display_header\",\r\n        inputtype: SectionInput,\r\n        name:false,\r\n        sort: base_sort++,\r\n        data: {header:\"Display\"},\r\n    }, {\r\n        name: \"Display\",\r\n        key: \"display\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        validValues: [\"block\", \"inline\", \"inline-block\", \"none\"],\r\n        data: {\r\n            options: [{\r\n                value: \"block\",\r\n                text: \"Block\"\r\n            }, {\r\n                value: \"inline\",\r\n                text: \"Inline\"\r\n            }, {\r\n                value: \"inline-block\",\r\n                text: \"Inline Block\"\r\n            }, {\r\n                value: \"none\",\r\n                text: \"none\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Position\",\r\n        key: \"position\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        validValues: [\"static\", \"fixed\", \"relative\", \"absolute\"],\r\n        data: {\r\n            options: [{\r\n                value: \"static\",\r\n                text: \"Static\"\r\n            }, {\r\n                value: \"fixed\",\r\n                text: \"Fixed\"\r\n            }, {\r\n                value: \"relative\",\r\n                text: \"Relative\"\r\n            }, {\r\n                value: \"absolute\",\r\n                text: \"Absolute\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Top\",\r\n        key: \"top\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Left\",\r\n        key: \"left\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"bottom\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Right\",\r\n        key: \"right\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: CssUnitInput\r\n    },{\r\n        name: \"Float\",\r\n        key: \"float\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n        inline:true,\r\n        inputtype: RadioButtonInput,\r\n        data: {\r\n\t\t\textraclass:\"btn-group-sm btn-group-fullwidth\",\r\n            options: [{\r\n                value: \"none\",\r\n                icon:\"la la-close\",\r\n                //text: \"None\",\r\n                title: \"None\",\r\n                checked:true,\r\n            }, {\r\n                value: \"left\",\r\n                //text: \"Left\",\r\n                title: \"Left\",\r\n                icon:\"la la-align-left\",\r\n                checked:false,\r\n            }, {\r\n                value: \"right\",\r\n                //text: \"Right\",\r\n                title: \"Right\",\r\n                icon:\"la la-align-right\",\r\n                checked:false,\r\n            }],\r\n         }\r\n\t}, {\r\n        name: \"Opacity\",\r\n        key: \"opacity\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n\t\tinline:true,\r\n        parent:\"\",\r\n        inputtype: RangeInput,\r\n        data:{\r\n\t\t\tmax: 1, //max zoom level\r\n\t\t\tmin:0,\r\n\t\t\tstep:0.1\r\n       },\r\n\t}, {\r\n        name: \"Background Color\",\r\n        key: \"background-color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n\t}, {\r\n        name: \"Text Color\",\r\n        key: \"color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n  \t}]\r\n});    \r\n\r\n//Typography\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [\r\n     {\r\n\t\tkey: \"typography_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Typography\"},\r\n    }, {\r\n        name: \"Font family\",\r\n        key: \"font-family\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"Arial, Helvetica, sans-serif\",\r\n\t\t\t\ttext: \"Arial\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Lucida Sans Unicode\", \"Lucida Grande\", sans-serif',\r\n\t\t\t\ttext: 'Lucida Grande'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Palatino Linotype\", \"Book Antiqua\", Palatino, serif',\r\n\t\t\t\ttext: 'Palatino Linotype'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: '\"Times New Roman\", Times, serif',\r\n\t\t\t\ttext: 'Times New Roman'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"Georgia, serif\",\r\n\t\t\t\ttext: \"Georgia, serif\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"Tahoma, Geneva, sans-serif\",\r\n\t\t\t\ttext: \"Tahoma\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Comic Sans MS, cursive, sans-serif',\r\n\t\t\t\ttext: 'Comic Sans'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Verdana, Geneva, sans-serif',\r\n\t\t\t\ttext: 'Verdana'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Impact, Charcoal, sans-serif',\r\n\t\t\t\ttext: 'Impact'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Arial Black, Gadget, sans-serif',\r\n\t\t\t\ttext: 'Arial Black'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Trebuchet MS, Helvetica, sans-serif',\r\n\t\t\t\ttext: 'Trebuchet'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Courier New\", Courier, monospace',\r\n\t\t\t\ttext: 'Courier New\", Courier, monospace'\r\n\t\t\t}, {\r\n\t\t\t\tvalue: 'Brush Script MT, sans-serif',\r\n\t\t\t\ttext: 'Brush Script'\r\n\t\t\t}]\r\n\t\t}\r\n\t}, {\r\n        name: \"Font weight\",\r\n        key: \"font-weight\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\t\r\n\t\t\t\tvalue: \"100\",\r\n\t\t\t\ttext: \"Thin\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"200\",\r\n\t\t\t\ttext: \"Extra-Light\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"300\",\r\n\t\t\t\ttext: \"Light\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"400\",\r\n\t\t\t\ttext: \"Normal\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"500\",\r\n\t\t\t\ttext: \"Medium\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"600\",\r\n\t\t\t\ttext: \"Semi-Bold\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"700\",\r\n\t\t\t\ttext: \"Bold\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"800\",\r\n\t\t\t\ttext: \"Extra-Bold\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"900\",\r\n\t\t\t\ttext: \"Ultra-Bold\"\r\n\t\t\t}],\r\n\t\t}\r\n\t}, {\r\n        name: \"Text align\",\r\n        key: \"text-align\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n        inline:true,\r\n        inputtype: RadioButtonInput,\r\n        data: {\r\n\t\t\textraclass:\"btn-group-sm btn-group-fullwidth\",\r\n            options: [{\r\n                value: \"none\",\r\n                icon:\"la la-close\",\r\n                //text: \"None\",\r\n                title: \"None\",\r\n                checked:true,\r\n            }, {\r\n                value: \"left\",\r\n                //text: \"Left\",\r\n                title: \"Left\",\r\n                icon:\"la la-align-left\",\r\n                checked:false,\r\n            }, {\r\n                value: \"center\",\r\n                //text: \"Center\",\r\n                title: \"Center\",\r\n                icon:\"la la-align-center\",\r\n                checked:false,\r\n            }, {\r\n                value: \"right\",\r\n                //text: \"Right\",\r\n                title: \"Right\",\r\n                icon:\"la la-align-right\",\r\n                checked:false,\r\n            }, {\r\n                value: \"justify\",\r\n                //text: \"justify\",\r\n                title: \"Justify\",\r\n                icon:\"la la-align-justify\",\r\n                checked:false,\r\n            }],\r\n        },\r\n\t}, {\r\n        name: \"Line height\",\r\n        key: \"line-height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Letter spacing\",\r\n        key: \"letter-spacing\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Text decoration\",\r\n        key: \"text-decoration-line\",\r\n        htmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n        inline:true,\r\n        inputtype: RadioButtonInput,\r\n        data: {\r\n\t\t\textraclass:\"btn-group-sm btn-group-fullwidth\",\r\n            options: [{\r\n                value: \"none\",\r\n                icon:\"la la-close\",\r\n                //text: \"None\",\r\n                title: \"None\",\r\n                checked:true,\r\n            }, {\r\n                value: \"underline\",\r\n                //text: \"Left\",\r\n                title: \"underline\",\r\n                icon:\"la la-long-arrow-down\",\r\n                checked:false,\r\n            }, {\r\n                value: \"overline\",\r\n                //text: \"Right\",\r\n                title: \"overline\",\r\n                icon:\"la la-long-arrow-up\",\r\n                checked:false,\r\n            }, {\r\n                value: \"line-through\",\r\n                //text: \"Right\",\r\n                title: \"Line Through\",\r\n                icon:\"la la-strikethrough\",\r\n                checked:false,\r\n            }, {\r\n                value: \"underline overline\",\r\n                //text: \"justify\",\r\n                title: \"Underline Overline\",\r\n                icon:\"la la-arrows-v\",\r\n                checked:false,\r\n            }],\r\n        },\r\n\t}, {\r\n        name: \"Decoration Color\",\r\n        key: \"text-decoration-color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n\t}, {\r\n        name: \"Decoration style\",\r\n        key: \"text-decoration-style\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\t\r\n\t\t\t\tvalue: \"solid\",\r\n\t\t\t\ttext: \"Solid\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"wavy\",\r\n\t\t\t\ttext: \"Wavy\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dotted\",\r\n\t\t\t\ttext: \"Dotted\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dashed\",\r\n\t\t\t\ttext: \"Dashed\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"double\",\r\n\t\t\t\ttext: \"Double\"\r\n\t\t\t}],\r\n\t\t}\r\n  }]\r\n})\r\n    \r\n//Size\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"size_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Size\", expanded:false},\r\n\t}, {\r\n        name: \"Width\",\r\n        key: \"width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Height\",\r\n        key: \"height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Min Width\",\r\n        key: \"min-width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Min Height\",\r\n        key: \"min-height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Max Width\",\r\n        key: \"max-width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Max Height\",\r\n        key: \"max-height\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n//Margin\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"margins_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Margin\", expanded:false},\r\n\t}, {\r\n        name: \"Top\",\r\n        key: \"margin-top\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Right\",\r\n        key: \"margin-right\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"margin-bottom\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Left\",\r\n        key: \"margin-Left\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n//Padding\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"paddings_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Padding\", expanded:false},\r\n\t}, {\r\n        name: \"Top\",\r\n        key: \"padding-top\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n\t}, {\r\n        name: \"Right\",\r\n        key: \"padding-right\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Bottom\",\r\n        key: \"padding-bottom\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }, {\r\n        name: \"Left\",\r\n        key: \"padding-Left\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n    }]\r\n});\r\n\r\n\r\n//Border\r\nVvveb.Components.extend(\"_base\", \"_base\", {\r\n\t properties: [{\r\n\t\tkey: \"border_header\",\r\n\t\tinputtype: SectionInput,\r\n\t\tname:false,\r\n\t\tsort: base_sort++,\r\n\t\tdata: {header:\"Border\", expanded:false},\r\n\t }, {        \r\n        name: \"Style\",\r\n        key: \"border-style\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:12,\r\n\t\tinline:true,\r\n        inputtype: SelectInput,\r\n        data: {\r\n\t\t\toptions: [{\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\ttext: \"Default\"\r\n\t\t\t}, {\t\r\n\t\t\t\tvalue: \"solid\",\r\n\t\t\t\ttext: \"Solid\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dotted\",\r\n\t\t\t\ttext: \"Dotted\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"dashed\",\r\n\t\t\t\ttext: \"Dashed\"\r\n\t\t\t}],\r\n\t\t}\r\n\t}, {\r\n        name: \"Width\",\r\n        key: \"border-width\",\r\n\t\thtmlAttr: \"style\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n        inputtype: CssUnitInput\r\n   \t}, {\r\n        name: \"Color\",\r\n        key: \"border-color\",\r\n        sort: base_sort++,\r\n        col:6,\r\n\t\tinline:true,\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    }]\r\n});    \r\n\r\nVvveb.Components.extend(\"_base\", \"html/container\", {\r\n    classes: [\"container\", \"container-fluid\"],\r\n    image: \"icons/container.svg\",\r\n    html: '<div class=\"container\"><div class=\"m-5\">Container</div></div>',\r\n    name: \"Container\",\r\n    properties: [\r\n     {\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"container\", \"container-fluid\"],\r\n        data: {\r\n            options: [{\r\n                value: \"container\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"container-fluid\",\r\n                text: \"Fluid\"\r\n            }]\r\n        }\r\n    },\r\n\t{\r\n        name: \"Background\",\r\n        key: \"background\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    },\r\n\t{\r\n        name: \"Background Color\",\r\n        key: \"background-color\",\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    },\r\n\t{\r\n        name: \"Text Color\",\r\n        key: \"color\",\r\n\t\thtmlAttr: \"style\",\r\n        inputtype: ColorInput,\r\n    }],\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/heading\", {\r\n    image: \"icons/heading.svg\",\r\n    name: \"Heading\",\r\n    nodes: [\"h1\", \"h2\",\"h3\", \"h4\",\"h5\",\"h6\"],\r\n    html: \"<h1>Heading</h1>\",\r\n    \r\n\tproperties: [\r\n\t{\r\n        name: \"Size\",\r\n        key: \"id\",\r\n        htmlAttr: \"id\",\r\n        inputtype: SelectInput,\r\n        \r\n        onChange: function(node, value) {\r\n\t\t\t\r\n\t\t\treturn changeNodeName(node, \"h\" + value);\r\n\t\t},\t\r\n\t\t\t\r\n        init: function(node) {\r\n            var regex;\r\n            regex = /H(\\d)/.exec(node.nodeName);\r\n            if (regex && regex[1]) {\r\n                return regex[1]\r\n            }\r\n            return 1\r\n        },\r\n        \r\n        data:{\r\n\t\t\toptions: [{\r\n                value: \"1\",\r\n                text: \"1\"\r\n            }, {\r\n                value: \"2\",\r\n                text: \"2\"\r\n            }, {\r\n                value: \"3\",\r\n                text: \"3\"\r\n            }, {\r\n                value: \"4\",\r\n                text: \"4\"\r\n            }, {\r\n                value: \"5\",\r\n                text: \"5\"\r\n            }, {\r\n                value: \"6\",\r\n                text: \"6\"\r\n            }]\r\n       },\r\n    }]\r\n});    \r\nVvveb.Components.extend(\"_base\", \"html/link\", {\r\n    nodes: [\"a\"],\r\n    name: \"Link\",\r\n    properties: [{\r\n        name: \"Url\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        inputtype: LinkInput\r\n    }, {\r\n        name: \"Target\",\r\n        key: \"target\",\r\n        htmlAttr: \"target\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/image\", {\r\n    nodes: [\"img\"],\r\n    name: \"Image\",\r\n    html: '<img src=\"' +  Vvveb.baseUrl + 'icons/image.svg\" height=\"128\" width=\"128\">',\r\n    /*\r\n    afterDrop: function (node)\r\n\t{\r\n\t\tnode.attr(\"src\", '');\r\n\t\treturn node;\r\n\t},*/\r\n    image: \"icons/image.svg\",\r\n    properties: [{\r\n        name: \"Image\",\r\n        key: \"src\",\r\n        htmlAttr: \"src\",\r\n        inputtype: FileUploadInput\r\n    }, {\r\n        name: \"Width\",\r\n        key: \"width\",\r\n        htmlAttr: \"width\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Height\",\r\n        key: \"height\",\r\n        htmlAttr: \"height\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Alt\",\r\n        key: \"alt\",\r\n        htmlAttr: \"alt\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.add(\"html/hr\", {\r\n    image: \"icons/hr.svg\",\r\n    nodes: [\"hr\"],\r\n    name: \"Horizontal Rule\",\r\n    html: \"<hr>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/label\", {\r\n    name: \"Label\",\r\n    nodes: [\"label\"],\r\n    html: '<label for=\"\">Label</label>',\r\n    properties: [{\r\n        name: \"For id\",\r\n        htmlAttr: \"for\",\r\n        key: \"for\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/button\", {\r\n    classes: [\"btn\", \"btn-link\"],\r\n    name: \"Button\",\r\n    image: \"icons/button.svg\",\r\n    html: '<button type=\"button\" class=\"btn btn-primary\">Primary</button>',\r\n    properties: [{\r\n        name: \"Link To\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        inputtype: LinkInput\r\n    }, {\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-default\", \"btn-primary\", \"btn-info\", \"btn-success\", \"btn-warning\", \"btn-info\", \"btn-light\", \"btn-dark\", \"btn-outline-primary\", \"btn-outline-info\", \"btn-outline-success\", \"btn-outline-warning\", \"btn-outline-info\", \"btn-outline-light\", \"btn-outline-dark\", \"btn-link\"],\r\n        data: {\r\n            options: [{\r\n                value: \"btn-default\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-primary\",\r\n                text: \"Primary\"\r\n            }, {\r\n                value: \"btn btn-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"btn-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"btn-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"btn-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"btn-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"btn-dark\",\r\n                text: \"Dark\"\r\n            }, {\r\n                value: \"btn-outline-primary\",\r\n                text: \"Primary outline\"\r\n            }, {\r\n                value: \"btn btn-outline-info\",\r\n                text: \"Info outline\"\r\n            }, {\r\n                value: \"btn-outline-success\",\r\n                text: \"Success outline\"\r\n            }, {\r\n                value: \"btn-outline-warning\",\r\n                text: \"Warning outline\"\r\n            }, {\r\n                value: \"btn-outline-info\",\r\n                text: \"Info outline\"\r\n            }, {\r\n                value: \"btn-outline-light\",\r\n                text: \"Light outline\"\r\n            }, {\r\n                value: \"btn-outline-dark\",\r\n                text: \"Dark outline\"\r\n            }, {\r\n                value: \"btn-link\",\r\n                text: \"Link\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-lg\", \"btn-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Target\",\r\n        key: \"target\",\r\n        htmlAttr: \"target\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Disabled\",\r\n        key: \"disabled\",\r\n        htmlAttr: \"class\",\r\n        inputtype: ToggleInput,\r\n        validValues: [\"disabled\"],\r\n        data: {\r\n            on: \"disabled\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/buttongroup\", {\r\n    classes: [\"btn-group\"],\r\n    name: \"Button Group\",\r\n    image: \"icons/button_group.svg\",\r\n    html: '<div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\"><button type=\"button\" class=\"btn btn-secondary\">Left</button><button type=\"button\" class=\"btn btn-secondary\">Middle</button> <button type=\"button\" class=\"btn btn-secondary\">Right</button></div>',\r\n\tproperties: [{\r\n\t    name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-group-lg\", \"btn-group-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-group-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-group-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    }, {\r\n\t    name: \"Alignment\",\r\n        key: \"alignment\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-group\", \"btn-group-vertical\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-group\",\r\n                text: \"Horizontal\"\r\n            }, {\r\n                value: \"btn-group-vertical\",\r\n                text: \"Vertical\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/buttontoolbar\", {\r\n    classes: [\"btn-toolbar\"],\r\n    name: \"Button Toolbar\",\r\n    image: \"icons/button_toolbar.svg\",\r\n    html: '<div class=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\\\r\n\t\t  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">1</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">2</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">3</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">4</button>\\\r\n\t\t  </div>\\\r\n\t\t  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Second group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">5</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">6</button>\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">7</button>\\\r\n\t\t  </div>\\\r\n\t\t  <div class=\"btn-group\" role=\"group\" aria-label=\"Third group\">\\\r\n\t\t\t<button type=\"button\" class=\"btn btn-secondary\">8</button>\\\r\n\t\t  </div>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\",\"html/alert\", {\r\n    classes: [\"alert\"],\r\n    name: \"Alert\",\r\n    image: \"icons/alert.svg\",\r\n    html: '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\\\r\n\t\t  <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\\\r\n\t\t\t<span aria-hidden=\"true\">&times;</span>\\\r\n\t\t  </button>\\\r\n\t\t  <strong>Holy guacamole!</strong> You should check in on some of those fields below.\\\r\n\t\t</div>',\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"alert-primary\", \"alert-secondary\", \"alert-success\", \"alert-danger\", \"alert-warning\", \"alert-info\", \"alert-light\", \"alert-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"alert-primary\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"alert-secondary\",\r\n                text: \"Secondary\"\r\n            }, {\r\n                value: \"alert-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"alert-danger\",\r\n                text: \"Danger\"\r\n            }, {\r\n                value: \"alert-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"alert-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"alert-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"alert-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/badge\", {\r\n    classes: [\"badge\"],\r\n    image: \"icons/badge.svg\",\r\n    name: \"Badge\",\r\n    html: '<span class=\"badge badge-primary\">Primary badge</span>',\r\n    properties: [{\r\n        name: \"Color\",\r\n        key: \"color\",\r\n        htmlAttr: \"class\",\r\n        validValues:[\"badge-primary\", \"badge-secondary\", \"badge-success\", \"badge-danger\", \"badge-warning\", \"badge-info\", \"badge-light\", \"badge-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"badge-primary\",\r\n                text: \"Primary\"\r\n            }, {\r\n                value: \"badge-secondary\",\r\n                text: \"Secondary\"\r\n            }, {\r\n                value: \"badge-success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"badge-warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"badge-danger\",\r\n                text: \"Danger\"\r\n            }, {\r\n                value: \"badge-info\",\r\n                text: \"Info\"\r\n            }, {\r\n                value: \"badge-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"badge-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n     }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/card\", {\r\n    classes: [\"card\"],\r\n    image: \"icons/panel.svg\",\r\n    name: \"Card\",\r\n    html: '<div class=\"card\">\\\r\n\t\t  <img class=\"card-img-top\" src=\"../libs/builder/icons/image.svg\" alt=\"Card image cap\" width=\"128\" height=\"128\">\\\r\n\t\t  <div class=\"card-body\">\\\r\n\t\t\t<h4 class=\"card-title\">Card title</h4>\\\r\n\t\t\t<p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card\\'s content.</p>\\\r\n\t\t\t<a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\\\r\n\t\t  </div>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/listgroup\", {\r\n    name: \"List Group\",\r\n    image: \"icons/list_group.svg\",\r\n    classes: [\"list-group\"],\r\n    html: '<ul class=\"list-group\">\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">14</span>\\n    Cras justo odio\\n  </li>\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">2</span>\\n    Dapibus ac facilisis in\\n  </li>\\n  <li class=\"list-group-item\">\\n    <span class=\"badge\">1</span>\\n    Morbi leo risus\\n  </li>\\n</ul>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/listitem\", {\r\n    name: \"List Item\",\r\n    classes: [\"list-group-item\"],\r\n    html: '<li class=\"list-group-item\"><span class=\"badge\">14</span> Cras justo odio</li>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/breadcrumbs\", {\r\n    classes: [\"breadcrumb\"],\r\n    name: \"Breadcrumbs\",\r\n    image: \"icons/breadcrumbs.svg\",\r\n    html: '<ol class=\"breadcrumb\">\\\r\n\t\t  <li class=\"breadcrumb-item active\"><a href=\"#\">Home</a></li>\\\r\n\t\t  <li class=\"breadcrumb-item active\"><a href=\"#\">Library</a></li>\\\r\n\t\t  <li class=\"breadcrumb-item active\">Data 3</li>\\\r\n\t\t</ol>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/breadcrumbitem\", {\r\n\tclasses: [\"breadcrumb-item\"],\r\n    name: \"Breadcrumb Item\",\r\n    html: '<li class=\"breadcrumb-item\"><a href=\"#\">Library</a></li>',\r\n    properties: [{\r\n        name: \"Active\",\r\n        key: \"active\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"active\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"active\",\r\n            off: \"\"\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/pagination\", {\r\n    classes: [\"pagination\"],\r\n    name: \"Pagination\",\r\n    image: \"icons/pagination.svg\",\r\n    html: '<nav aria-label=\"Page navigation example\">\\\r\n\t  <ul class=\"pagination\">\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\\\r\n\t\t<li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\\\r\n\t  </ul>\\\r\n\t</nav>',\r\n\r\n    properties: [{\r\n        name: \"Size\",\r\n        key: \"size\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"btn-lg\", \"btn-sm\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"btn-lg\",\r\n                text: \"Large\"\r\n            }, {\r\n                value: \"btn-sm\",\r\n                text: \"Small\"\r\n            }]\r\n        }\r\n    },{\r\n        name: \"Alignment\",\r\n        key: \"alignment\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"justify-content-center\", \"justify-content-end\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"justify-content-center\",\r\n                text: \"Center\"\r\n            }, {\r\n                value: \"justify-content-end\",\r\n                text: \"Right\"\r\n            }]\r\n        }\r\n    }]\t\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/pageitem\", {\r\n\tclasses: [\"page-item\"],\r\n    html: '<li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>',\r\n    name: \"Pagination Item\",\r\n    properties: [{\r\n        name: \"Link To\",\r\n        key: \"href\",\r\n        htmlAttr: \"href\",\r\n        child:\".page-link\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Disabled\",\r\n        key: \"disabled\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"disabled\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"disabled\",\r\n            off: \"\"\r\n        }\r\n   }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/progress\", {\r\n    classes: [\"progress\"],\r\n    name: \"Progress Bar\",\r\n    image: \"icons/progressbar.svg\",\r\n    html: '<div class=\"progress\"><div class=\"progress-bar w-25\"></div></div>',\r\n    properties: [{\r\n        name: \"Background\",\r\n        key: \"background\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    },\r\n    {\r\n        name: \"Progress\",\r\n        key: \"background\",\r\n        child:\".progress-bar\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: [\"\", \"w-25\", \"w-50\", \"w-75\", \"w-100\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"None\"\r\n            }, {\r\n                value: \"w-25\",\r\n                text: \"25%\"\r\n            }, {\r\n                value: \"w-50\",\r\n                text: \"50%\"\r\n            }, {\r\n                value: \"w-75\",\r\n                text: \"75%\"\r\n            }, {\r\n                value: \"w-100\",\r\n                text: \"100%\"\r\n            }]\r\n        }\r\n    }, \r\n    {\r\n        name: \"Progress background\",\r\n        key: \"background\",\r\n        child:\".progress-bar\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    }, {\r\n        name: \"Striped\",\r\n        key: \"striped\",\r\n        child:\".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"progress-bar-striped\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"progress-bar-striped\",\r\n            off: \"\",\r\n        }\r\n    }, {\r\n        name: \"Animated\",\r\n        key: \"animated\",\r\n        child:\".progress-bar\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"progress-bar-animated\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"progress-bar-animated\",\r\n            off: \"\",\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/jumbotron\", {\r\n    classes: [\"jumbotron\"],\r\n    image: \"icons/jumbotron.svg\",\r\n    name: \"Jumbotron\",\r\n    html: '<div class=\"jumbotron\">\\\r\n\t\t  <h1 class=\"display-3\">Hello, world!</h1>\\\r\n\t\t  <p class=\"lead\">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>\\\r\n\t\t  <hr class=\"my-4\">\\\r\n\t\t  <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>\\\r\n\t\t  <p class=\"lead\">\\\r\n\t\t\t<a class=\"btn btn-primary btn-lg\" href=\"#\" role=\"button\">Learn more</a>\\\r\n\t\t  </p>\\\r\n\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/navbar\", {\r\n    classes: [\"navbar\"],\r\n    image: \"icons/navbar.svg\",\r\n    name: \"Nav Bar\",\r\n    html: '<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\\\r\n\t\t  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\\\r\n\t\t  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\\\r\n\t\t\t<span class=\"navbar-toggler-icon\"></span>\\\r\n\t\t  </button>\\\r\n\t\t\\\r\n\t\t  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\\\r\n\t\t\t<ul class=\"navbar-nav mr-auto\">\\\r\n\t\t\t  <li class=\"nav-item active\">\\\r\n\t\t\t\t<a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t  <li class=\"nav-item\">\\\r\n\t\t\t\t<a class=\"nav-link\" href=\"#\">Link</a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t  <li class=\"nav-item\">\\\r\n\t\t\t\t<a class=\"nav-link disabled\" href=\"#\">Disabled</a>\\\r\n\t\t\t  </li>\\\r\n\t\t\t</ul>\\\r\n\t\t\t<form class=\"form-inline my-2 my-lg-0\">\\\r\n\t\t\t  <input class=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\\\r\n\t\t\t  <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\\\r\n\t\t\t</form>\\\r\n\t\t  </div>\\\r\n\t\t</nav>',\r\n    \r\n    properties: [{\r\n        name: \"Color theme\",\r\n        key: \"color\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"navbar-light\", \"navbar-dark\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"navbar-light\",\r\n                text: \"Light\"\r\n            }, {\r\n                value: \"navbar-dark\",\r\n                text: \"Dark\"\r\n            }]\r\n        }\r\n    },{\r\n        name: \"Background color\",\r\n        key: \"background\",\r\n        htmlAttr: \"class\",\r\n        validValues: bgcolorClasses,\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: bgcolorSelectOptions\r\n        }\r\n    }, {\r\n        name: \"Placement\",\r\n        key: \"placement\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"fixed-top\", \"fixed-bottom\", \"sticky-top\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"fixed-top\",\r\n                text: \"Fixed Top\"\r\n            }, {\r\n                value: \"fixed-bottom\",\r\n                text: \"Fixed Bottom\"\r\n            }, {\r\n                value: \"sticky-top\",\r\n                text: \"Sticky top\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/form\", {\r\n    nodes: [\"form\"],\r\n    image: \"icons/form.svg\",\r\n    name: \"Form\",\r\n    html: '<form><div class=\"form-group\"><label>Text</label><input type=\"text\" class=\"form-control\"></div></div></form>',\r\n    properties: [{\r\n        name: \"Style\",\r\n        key: \"style\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"\", \"form-search\", \"form-inline\", \"form-horizontal\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"form-search\",\r\n                text: \"Search\"\r\n            }, {\r\n                value: \"form-inline\",\r\n                text: \"Inline\"\r\n            }, {\r\n                value: \"form-horizontal\",\r\n                text: \"Horizontal\"\r\n            }]\r\n        }\r\n    }, {\r\n        name: \"Action\",\r\n        key: \"action\",\r\n        htmlAttr: \"action\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Method\",\r\n        key: \"method\",\r\n        htmlAttr: \"method\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/textinput\", {\r\n    name: \"Text Input\",\r\n\tattributes: {\"type\":\"text\"},\r\n    image: \"icons/text_input.svg\",\r\n    html: '<div class=\"form-group\" style=\"display: inline-block;\"><label>Text</label><input type=\"text\" class=\"form-control\"></div></div>',\r\n    properties: [{\r\n        name: \"Value\",\r\n        key: \"value\",\r\n        htmlAttr: \"value\",\r\n        inputtype: TextInput\r\n    }, {\r\n        name: \"Placeholder\",\r\n        key: \"placeholder\",\r\n        htmlAttr: \"placeholder\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\n\r\nVvveb.Components.extend(\"_base\", \"html/selectinput\", {\r\n\tnodes: [\"select\"],\r\n    name: \"Select Input\",\r\n    image: \"icons/select_input.svg\",\r\n    html: '<div class=\"form-group\"><label>Choose an option </label><select class=\"form-control\"><option value=\"value1\">Text 1</option><option value=\"value2\">Text 2</option><option value=\"value3\">Text 3</option></select></div>',\r\n\r\n\tbeforeInit: function (node)\r\n\t{\r\n\t\tproperties = [];\r\n\t\tvar i = 0;\r\n\t\t\r\n\t\t$(node).find('option').each(function() {\r\n\r\n\t\t\tdata = {\"value\": this.value, \"text\": this.text};\r\n\t\t\t\r\n\t\t\ti++;\r\n\t\t\tproperties.push({\r\n\t\t\t\tname: \"Option \" + i,\r\n\t\t\t\tkey: \"option\" + i,\r\n\t\t\t\t//index: i - 1,\r\n\t\t\t\toptionNode: this,\r\n\t\t\t\tinputtype: TextValueInput,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tonChange: function(node, value, input) {\r\n\t\t\t\t\t\r\n\t\t\t\t\toption = $(this.optionNode);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//if remove button is clicked remove option and render row properties\r\n\t\t\t\t\tif (input.nodeName == 'BUTTON')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toption.remove();\r\n\t\t\t\t\t\tVvveb.Components.render(\"html/selectinput\");\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (input.name == \"value\") option.attr(\"value\", value); \r\n\t\t\t\t\telse if (input.name == \"text\") option.text(value);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\t\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t//remove all option properties\r\n\t\tthis.properties = this.properties.filter(function(item) {\r\n\t\t\treturn item.key.indexOf(\"option\") === -1;\r\n\t\t});\r\n\t\t\r\n\t\t//add remaining properties to generated column properties\r\n\t\tproperties.push(this.properties[0]);\r\n\t\t\r\n\t\tthis.properties = properties;\r\n\t\treturn node;\r\n\t},\r\n    \r\n    properties: [{\r\n        name: \"Option\",\r\n        key: \"option1\",\r\n        inputtype: TextValueInput\r\n\t}, {\r\n        name: \"Option\",\r\n        key: \"option2\",\r\n        inputtype: TextValueInput\r\n\t}, {\r\n        name: \"\",\r\n        key: \"addChild\",\r\n        inputtype: ButtonInput,\r\n        data: {text:\"Add option\"},\r\n        onChange: function(node)\r\n        {\r\n\t\t\t $(node).append('<option value=\"value\">Text</option>');\r\n\t\t\t \r\n\t\t\t //render component properties again to include the new column inputs\r\n\t\t\t Vvveb.Components.render(\"html/selectinput\");\r\n\t\t\t \r\n\t\t\t return node;\r\n\t\t}\r\n\t}]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/textareainput\", {\r\n    name: \"Text Area\",\r\n    image: \"icons/text_area.svg\",\r\n    html: '<div class=\"form-group\"><label>Your response:</label><textarea class=\"form-control\"></textarea></div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/radiobutton\", {\r\n    name: \"Radio Button\",\r\n\tattributes: {\"type\":\"radio\"},\r\n    image: \"icons/radio.svg\",\r\n    html: '<label class=\"radio\"><input type=\"radio\"> Radio</label>',\r\n    properties: [{\r\n        name: \"Name\",\r\n        key: \"name\",\r\n        htmlAttr: \"name\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/checkbox\", {\r\n    name: \"Checkbox\",\r\n    attributes: {\"type\":\"checkbox\"},\r\n    image: \"icons/checkbox.svg\",\r\n    html: '<label class=\"checkbox\"><input type=\"checkbox\"> Checkbox</label>',\r\n    properties: [{\r\n        name: \"Name\",\r\n        key: \"name\",\r\n        htmlAttr: \"name\",\r\n        inputtype: TextInput\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/fileinput\", {\r\n    name: \"Input group\",\r\n\tattributes: {\"type\":\"file\"},\r\n    image: \"icons/text_input.svg\",\r\n    html: '<div class=\"form-group\">\\\r\n\t\t\t  <input type=\"file\" class=\"form-control\">\\\r\n\t\t\t</div>'\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/table\", {\r\n    nodes: [\"table\"],\r\n    classes: [\"table\"],\r\n    image: \"icons/table.svg\",\r\n    name: \"Table\",\r\n    html: '<table class=\"table\">\\\r\n\t\t  <thead>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th>#</th>\\\r\n\t\t\t  <th>First Name</th>\\\r\n\t\t\t  <th>Last Name</th>\\\r\n\t\t\t  <th>Username</th>\\\r\n\t\t\t</tr>\\\r\n\t\t  </thead>\\\r\n\t\t  <tbody>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">1</th>\\\r\n\t\t\t  <td>Mark</td>\\\r\n\t\t\t  <td>Otto</td>\\\r\n\t\t\t  <td>@mdo</td>\\\r\n\t\t\t</tr>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">2</th>\\\r\n\t\t\t  <td>Jacob</td>\\\r\n\t\t\t  <td>Thornton</td>\\\r\n\t\t\t  <td>@fat</td>\\\r\n\t\t\t</tr>\\\r\n\t\t\t<tr>\\\r\n\t\t\t  <th scope=\"row\">3</th>\\\r\n\t\t\t  <td>Larry</td>\\\r\n\t\t\t  <td>the Bird</td>\\\r\n\t\t\t  <td>@twitter</td>\\\r\n\t\t\t</tr>\\\r\n\t\t  </tbody>\\\r\n\t\t</table>',\r\n    properties: [\r\n\t{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n\t\thtmlAttr: \"class\",\r\n        validValues: [\"table-primary\", \"table-secondary\", \"table-success\", \"table-danger\", \"table-warning\", \"table-info\", \"table-light\", \"table-dark\", \"table-white\"],\r\n        inputtype: SelectInput,\r\n        data: {\r\n            options: [{\r\n\t\t\t\tvalue: \"Default\",\r\n\t\t\t\ttext: \"\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-primary\",\r\n\t\t\t\ttext: \"Primary\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-secondary\",\r\n\t\t\t\ttext: \"Secondary\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-success\",\r\n\t\t\t\ttext: \"Success\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-danger\",\r\n\t\t\t\ttext: \"Danger\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-warning\",\r\n\t\t\t\ttext: \"Warning\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-info\",\r\n\t\t\t\ttext: \"Info\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-light\",\r\n\t\t\t\ttext: \"Light\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-dark\",\r\n\t\t\t\ttext: \"Dark\"\r\n\t\t\t}, {\r\n\t\t\t\tvalue: \"table-white\",\r\n\t\t\t\ttext: \"White\"\r\n\t\t\t}]\r\n        }\r\n    },\r\n\t{\r\n        name: \"Responsive\",\r\n        key: \"responsive\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-responsive\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-responsive\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Small\",\r\n        key: \"small\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-sm\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-sm\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Hover\",\r\n        key: \"hover\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-hover\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-hover\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Bordered\",\r\n        key: \"bordered\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-bordered\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-bordered\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Striped\",\r\n        key: \"striped\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-striped\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-striped\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n\t{\r\n        name: \"Inverse\",\r\n        key: \"inverse\",\r\n        htmlAttr: \"class\",\r\n        validValues: [\"table-inverse\"],\r\n        inputtype: ToggleInput,\r\n        data: {\r\n            on: \"table-inverse\",\r\n            off: \"\"\r\n        }\r\n    },   \r\n    {\r\n        name: \"Head options\",\r\n        key: \"head\",\r\n        htmlAttr: \"class\",\r\n        child:\"thead\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"thead-inverse\", \"thead-default\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"None\"\r\n            }, {\r\n                value: \"thead-default\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"thead-inverse\",\r\n                text: \"Inverse\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablerow\", {\r\n    nodes: [\"tr\"],\r\n    name: \"Table Row\",\r\n    html: \"<tr><td>Cell 1</td><td>Cell 2</td><td>Cell 3</td></tr>\",\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"success\", \"danger\", \"warning\", \"active\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"error\",\r\n                text: \"Error\"\r\n            }, {\r\n                value: \"warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"active\",\r\n                text: \"Active\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablecell\", {\r\n    nodes: [\"td\"],\r\n    name: \"Table Cell\",\r\n    html: \"<td>Cell</td>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tableheadercell\", {\r\n    nodes: [\"th\"],\r\n    name: \"Table Header Cell\",\r\n    html: \"<th>Head</th>\"\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablehead\", {\r\n    nodes: [\"thead\"],\r\n    name: \"Table Head\",\r\n    html: \"<thead><tr><th>Head 1</th><th>Head 2</th><th>Head 3</th></tr></thead>\",\r\n    properties: [{\r\n        name: \"Type\",\r\n        key: \"type\",\r\n        htmlAttr: \"class\",\r\n        inputtype: SelectInput,\r\n        validValues: [\"\", \"success\", \"danger\", \"warning\", \"info\"],\r\n        data: {\r\n            options: [{\r\n                value: \"\",\r\n                text: \"Default\"\r\n            }, {\r\n                value: \"success\",\r\n                text: \"Success\"\r\n            }, {\r\n                value: \"anger\",\r\n                text: \"Error\"\r\n            }, {\r\n                value: \"warning\",\r\n                text: \"Warning\"\r\n            }, {\r\n                value: \"info\",\r\n                text: \"Info\"\r\n            }]\r\n        }\r\n    }]\r\n});\r\nVvveb.Components.extend(\"_base\", \"html/tablebody\", {\r\n    nodes: [\"tbody\"],\r\n    name: \"Table Body\",\r\n    html: \"<tbody><tr><td>Cell 1</td><td>Cell 2</td><td>Cell 3</td></tr></tbody>\"\r\n});\r\n\r\nVvveb.Components.add(\"html/gridcolumn\", {\r\n    name: \"Grid Column\",\r\n    image: \"icons/grid_row.svg\",\r\n    classesRegex: [\"col-\"],\r\n    html: '<div class=\"col-sm-4\"><h3>col-sm-4</h3></div>',\r\n    properties: [{\r\n        name: \"Column\",\r\n        key: \"column\",\r\n        inputtype: GridInput,\r\n        data: {hide_remove:true},\r\n\t\t\r\n\t\tbeforeInit: function(node) {\r\n\t\t\t_class = $(node).attr(\"class\");\r\n\t\t\t\r\n\t\t\tvar reg = /col-([^-\\$ ]*)?-?(\\d+)/g; \r\n\t\t\tvar match;\r\n\r\n\t\t\twhile ((match = reg.exec(_class)) != null) {\r\n\t\t\t\tthis.data[\"col\" + ((match[1] != undefined)?\"_\" + match[1]:\"\")] = match[2];\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonChange: function(node, value, input) {\r\n\t\t\t_class = node.attr(\"class\");\r\n\t\t\t\r\n\t\t\t//remove previous breakpoint column size\r\n\t\t\t_class = _class.replace(new RegExp(input.name + '-\\\\d+?'), '');\r\n\t\t\t//add new column size\r\n\t\t\tif (value) _class +=  ' ' + input.name + '-' + value;\r\n\t\t\tnode.attr(\"class\", _class);\r\n\t\t\t\r\n\t\t\treturn node;\r\n\t\t},\t\t\t\t\r\n\t}]\r\n});\r\nVvveb.Components.add(\"html/gridrow\", {\r\n    name: \"Grid Row\",\r\n    image: \"icons/grid_row.svg\",\r\n    classes: [\"row\"],\r\n    html: '<div class=\"row drag-n-drop-padding\"><div class=\"col-sm-4\"><h3>col-sm-4</h3></div><div class=\"col-sm-4 col-5\"><h3>col-sm-4</h3></div><div class=\"col-sm-4\"><h3>col-sm-4</h3></div></div>',\r\n    \r\n\tbeforeInit: function (node)\r\n\t{\r\n\t\tproperties = [];\r\n\t\tvar i = 0;\r\n\t\tvar j = 0;\r\n\t\t\r\n\t\t$(node).find('[class*=\"col-\"]').each(function() {\r\n\t\t\t_class = $(this).attr(\"class\");\r\n\t\t\t\r\n\t\t\tvar reg = /col-([^-\\$ ]*)?-?(\\d+)/g; \r\n\t\t\tvar match;\r\n\t\t\tdata = {};\r\n\r\n\t\t\twhile ((match = reg.exec(_class)) != null) {\r\n\t\t\t\tdata[\"col\" + ((match[1] != undefined)?\"_\" + match[1]:\"\")] = match[2];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ti++;\r\n\t\t\tproperties.push({\r\n\t\t\t\tname: \"Column \" + i,\r\n\t\t\t\tkey: \"column\" + i,\r\n\t\t\t\t//index: i - 1,\r\n\t\t\t\tcolumnNode: this,\r\n\t\t\t\tinline:true,\r\n\t\t\t\tinputtype: GridInput,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tonChange: function(node, value, input) {\r\n\r\n\t\t\t\t\t//column = $('[class*=\"col-\"]:eq(' + this.index + ')', node);\r\n\t\t\t\t\tcolumn = $(this.columnNode);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//if remove button is clicked remove column and render row properties\r\n\t\t\t\t\tif (input.nodeName == 'BUTTON')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumn.remove();\r\n\t\t\t\t\t\tVvveb.Components.render(\"html/gridrow\");\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//if select input then change column class\r\n\t\t\t\t\t_class = column.attr(\"class\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t//remove previous breakpoint column size\r\n\t\t\t\t\t_class = _class.replace(new RegExp(input.name + '-\\\\d+?'), '');\r\n\t\t\t\t\t//add new column size\r\n\t\t\t\t\tif (value) _class +=  ' ' + input.name + '-' + value;\r\n\t\t\t\t\tcolumn.attr(\"class\", _class);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(this, node, value, input, input.name);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t},\t\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t//remove all column properties\r\n\t\tthis.properties = this.properties.filter(function(item) {\r\n\t\t\treturn item.key.indexOf(\"column\") === -1;\r\n\t\t});\r\n\t\t\r\n\t\t//add remaining properties to generated column properties\r\n\t\tproperties.push(this.properties[0]);\r\n\t\t\r\n\t\tthis.properties = properties;\r\n\t\treturn node;\r\n\t},\r\n    \r\n    properties: [{\r\n        name: \"Column\",\r\n        key: \"column1\",\r\n        inputtype: GridInput\r\n\t}, {\r\n        name: \"Column\",\r\n        key: \"column1\",\r\n        inline:true,\r\n        col:12,\r\n        inputtype: GridInput\r\n\t}, {\r\n        name: \"\",\r\n        key: \"addChild\",\r\n        inputtype: ButtonInput,\r\n        data: {text:\"Add column\"},\r\n        onChange: function(node)\r\n        {\r\n\t\t\t $(node).append('<div class=\"col-3\">Col-3</div>');\r\n\t\t\t \r\n\t\t\t //render component properties again to include the new column inputs\r\n\t\t\t Vvveb.Components.render(\"html/gridrow\");\r\n\t\t\t \r\n\t\t\t return node;\r\n\t\t}\r\n\t}]\r\n});\r\n\r\n(function () {\r\n    $(document).ready(() => {\r\n        let isElementCreated = false;\r\n        let $element;\r\n\r\n        interact('#components-list li ol li')\r\n            .draggable({\r\n                // enable inertial throwing\r\n                inertia: true,\r\n                // keep the element within the area of it's parent\r\n                restrict: {\r\n                    restriction: document.getElementById('iframeId').contentWindow.document.getElementById('bodyId'),\r\n                    endOnly: true,\r\n                    elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\r\n                },\r\n                // enable autoScroll\r\n                autoScroll: true,\r\n\r\n                // call this function on every dragmove event\r\n                onmove: event => {\r\n                    if (!isElementCreated) {\r\n                        const component = Vvveb.Components.get($(event.target).data(\"type\"));\r\n                        const html = component.dragHtml || component.html;\r\n\r\n                        const { left, top } = $(event.target).offset();\r\n                        $element = $(html).css({\r\n                            position: 'absolute',\r\n                            left,\r\n                            top,\r\n                            'z-index': 999\r\n                        });\r\n                        isElementCreated = true;\r\n                        $('body').append($element);\r\n                    }\r\n\r\n                    const target = event.target,\r\n                        // keep the dragged position in the data-x/data-y attributes\r\n                        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,\r\n                        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;\r\n\r\n                    $element.css({\r\n                        transform: `translate(${x}px, ${y}px`\r\n                    });\r\n\r\n                    // update the position attributes\r\n                    target.setAttribute('data-x', x);\r\n                    target.setAttribute('data-y', y);\r\n                },\r\n                // call this function on every dragend event\r\n                onend: event => {\r\n                    isElementCreated = false;\r\n\r\n                    // remove the position attributes\r\n                    event.target.removeAttribute('data-x');\r\n                    event.target.removeAttribute('data-y');\r\n\r\n                    // self.frameBody.append($element);\r\n                    // self.dragElement = $element;\r\n                    self.dragElement && self.dragElement.replaceWith($element);\r\n                    const textEl = event.target.querySelector('p');\r\n\r\n                    textEl && (textEl.textContent =\r\n                        'moved a distance of '\r\n                        + (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +\r\n                            Math.pow(event.pageY - event.y0, 2) | 0))\r\n                            .toFixed(2) + 'px');\r\n                }\r\n            })\r\n        // .resizable({\r\n        //     // resize from all edges and corners\r\n        //     edges: { left: true, right: true, bottom: true, top: true },\r\n\r\n        //     // keep the edges inside the parent\r\n        //     restrictEdges: {\r\n        //         outer: 'parent',\r\n        //         endOnly: true,\r\n        //     },\r\n\r\n        //     // minimum size\r\n        //     restrictSize: {\r\n        //         min: { width: 100, height: 50 },\r\n        //     },\r\n\r\n        //     inertia: true,\r\n        // })\r\n        // .on('resizemove', function (event) {\r\n        //     var target = event.target,\r\n        //         x = (parseFloat(target.getAttribute('data-x')) || 0),\r\n        //         y = (parseFloat(target.getAttribute('data-y')) || 0);\r\n\r\n        //     // update the element's style\r\n        //     target.style.width = event.rect.width + 'px';\r\n        //     target.style.height = event.rect.height + 'px';\r\n\r\n        //     // translate when resizing from top or left edges\r\n        //     x += event.deltaRect.left;\r\n        //     y += event.deltaRect.top;\r\n\r\n        //     target.style.webkitTransform = target.style.transform =\r\n        //         'translate(' + x + 'px,' + y + 'px)';\r\n\r\n        //     target.setAttribute('data-x', x);\r\n        //     target.setAttribute('data-y', y);\r\n        //     target.textContent = Math.round(event.rect.width) + '\\u00D7' + Math.round(event.rect.height);\r\n        // });\r\n    });\r\n})();"]}