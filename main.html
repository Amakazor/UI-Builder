<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>拖拽</title>
</head>

<body>
    <iframe name="myFrame" id="iframeId" src="iframe.html" style="position:absolute;transform: translate(50px, 50px);width:500px;height:500px;z-index: -2;"></iframe>
    <div id="input" class="draggable">
        <label>Username</label>
        <input type="text">
    </div>

    <script src="js/jquery.min.js"></script>
    <!-- <script src="js/interact_1.1.2.js"></script> -->
    <!-- <script src="js/interact.js"></script> -->
    <script src="iframes.js"></script>
    <script>
        console.log(window.event);
        document.querySelector('iframe').onload = function (event) {
            window.interact = frames[0].interact;

            setInteractables();
        };
    </script>
    <div style="width: 50px; height: 50px;"></div>
    <!-- <script>
        interact('body *', { context: document })
            .autoScroll(true)
            .draggable({
                onmove: onMove,
            })
            .inertia(true)
            .restrict({
                drag: "parent",
                endOnly: true,
                elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
            });

        function onMove(event) {
            var target = event.target,
                x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
                y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

            target.style.webkitTransform =
                target.style.transform =
                'translate(' + x + 'px, ' + y + 'px)';

            target.setAttribute('data-x', x);
            target.setAttribute('data-y', y);
        }
    </script> -->
    <script>
        // interact('body *')
        //     .draggable({
        //         // enable inertial throwing
        //         inertia: true,
        //         // keep the element within the area of it's parent
        //         // restrict: {
        //         //     restriction: "parent",
        //         //     endOnly: true,
        //         //     elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
        //         // },
        //         // enable autoScroll
        //         autoScroll: true,

        //         // call this function on every dragmove event
        //         onmove: dragMoveListener,
        //         // call this function on every dragend event
        //         onend: function (event) {
        //             console.log(event);
        //             var textEl = event.target.querySelector('p');

        //             textEl && (textEl.textContent =
        //                 'moved a distance of '
        //                 + (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +
        //                     Math.pow(event.pageY - event.y0, 2) | 0))
        //                     .toFixed(2) + 'px');
        //         }
        //     })
        // // .resizable({
        // //     // resize from all edges and corners
        // //     edges: { left: true, right: true, bottom: true, top: true },

        // //     // keep the edges inside the parent
        // //     restrictEdges: {
        // //         outer: 'parent',
        // //         endOnly: true,
        // //     },

        // //     // minimum size
        // //     // restrictSize: {
        // //     //     min: { width: 100, height: 50 },
        // //     // },

        // //     inertia: true,
        // // })
        // // .on('resizemove', function (event) {
        // //     var target = event.target,
        // //         x = (parseFloat(target.getAttribute('data-x')) || 0),
        // //         y = (parseFloat(target.getAttribute('data-y')) || 0);

        // //     // update the element's style
        // //     target.style.width = event.rect.width + 'px';
        // //     target.style.height = event.rect.height + 'px';

        // //     // translate when resizing from top or left edges
        // //     x += event.deltaRect.left;
        // //     y += event.deltaRect.top;

        // //     target.style.webkitTransform = target.style.transform =
        // //         'translate(' + x + 'px,' + y + 'px)';

        // //     target.setAttribute('data-x', x);
        // //     target.setAttribute('data-y', y);
        // //     target.textContent = Math.round(event.rect.width) + '\u00D7' + Math.round(event.rect.height);
        // // });

        // function dragMoveListener(event) {
        //     var target = event.target,
        //         // keep the dragged position in the data-x/data-y attributes
        //         x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        //         y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

        //     // translate the element
        //     target.style.webkitTransform =
        //         target.style.transform =
        //         'translate(' + x + 'px, ' + y + 'px)';

        //     // update the posiion attributes
        //     target.setAttribute('data-x', x);
        //     target.setAttribute('data-y', y);
        // }
    </script>
</body>

</html>